<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>IMDb and Me – STA 9750 Fall 2024 - Jason Amey</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 Fall 2024 - Jason Amey</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">IMDb and Me</h1>
<p class="subtitle lead">A deep dive into movie data with R</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><em>This project useses the following packagaes</em>: <code>dplyr</code>, <code>tidyr</code>, <code>stringr</code>, <code>lubridate</code>, <code>readr</code>, <code>scales</code></p>
<p><em>For details on the data used for this project see</em> <a href="#appendixA">Appendix A</a>.</p>
<p>Originating in the proto-Internet era of Usenet groups in the early 1990s, the Internet Movie Database (with its instantly recognizable acronym: IMDb) has long been an indispensable source of pop culture information. Movie buffs, film industry professionals, trivia enthusiasts, and casual web surfers all agree IMDb is the go-to resource for anyone engaged in the history of motion pictures.</p>
<section id="whats-in-the-box" class="level2">
<h2 class="anchored" data-anchor-id="whats-in-the-box">What’s in the box?</h2>
<section id="how-many-green-lights-have-been-granted-in-hollywood" class="level3">
<h3 class="anchored" data-anchor-id="how-many-green-lights-have-been-granted-in-hollywood">How many green lights have been granted in Hollywood?</h3>
<p>The “M” in the moniker obviously denotes “movie” and there are indeed <code>131,890</code> traditional “movies” in IMDb. However, many take a different interpretations as to what is - and what is not - a “movie” and IMDb maintains a separate designation for <code>tvMovie</code>.</p>
<p>The author contends that the films produced by the premium television outlet Home Box Office are significant films all-too-often overlooked by film afficianados and sure enough, HBO films are considered television films by IMDb :</p>
<pre><code>titleType   primaryTitle            startYear
tvMovie     And the Band Played On  1993

titleType   primaryTitle            startYear
tvMovie     Recount                 2008
  
titleType   primaryTitle            startYear
tvMovie     Conspiracy              2001</code></pre>
<p>Not an HBO original, but this <code>tvMovie</code> is partially credited for <a href="https://en.wikipedia.org/wiki/The_Day_After#Effects_on_policymakers">ending The Cold War</a>:</p>
<pre><code>titleType   primaryTitle    startYear
tvMovie     The Day After   1983</code></pre>
<p>The above are all noteworthy (underrated) films more than deserving to be considered and counted alongside IMDb’s critera for “movie”. If we were to count both <code>movie</code> and <code>tvMovie</code> we would find <code>146,915</code> movie titles in IMDb.</p>
<p>…Speaking of television, that “M” in IMDb can be something of a misnomer. IMDb collects data on both film and television too. And within the database, IMDb doesn’t just maintain an entry for every television series, but actually has a record for each televison season and a record for every televsion episode. All told there are <code>29,868</code> series within IMDb represented by over <code>3,012,678</code> individual episdoes.</p>
<p>If television is collected this extensively in the database, what else does IMDb collect? What else is in the database?</p>
<p><img src="images/mp-02/1_media_types_counts.jpeg" class="img-fluid" style="width:75%; box-shadow: -1px 1px 2px rgba(0, 0, 0, 0.5); display: block; margin: auto;"></p>
<p>I’d argue the collection of Video Games will prove increasingly important as this media form grows in cultural influence. I can certainly see a future where Video Games are of equal cultural significance (…if were not at that momemnt already?) as film and TV is today.</p>
<details>
<summary>
&gt; show the code
</summary>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many films are in IMDb? </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>TITLE_BASICS <span class="sc">|&gt;</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(titleType <span class="sc">==</span> <span class="st">"movie"</span> <span class="sc">|</span> titleType <span class="sc">==</span> <span class="st">"tvMovie"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># What if we include TV Moives?   </span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>TITLE_BASICS <span class="sc">|&gt;</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(titleType <span class="sc">==</span> <span class="st">"movie"</span> <span class="sc">|</span> titleType <span class="sc">==</span> <span class="st">"tvMovie"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># What if we searched for a particular HBO Moive?    </span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>TITLE_BASICS <span class="sc">|&gt;</span> </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(primaryTitle <span class="sc">==</span> <span class="st">"And the Band Played On"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(titleType, primaryTitle, startYear)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co"># How many television series are in IMDb? </span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>TITLE_BASICS <span class="sc">|&gt;</span> </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(titleType <span class="sc">==</span> <span class="st">"tvSeries"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="co"># How many individual episodes are collected? </span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>TITLE_EPISODES <span class="sc">|&gt;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co"># What are the different title types in IMDb  </span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>title_type_counts <span class="ot">&lt;-</span> TITLE_BASICS <span class="sc">|&gt;</span> </span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(titleType) <span class="sc">|&gt;</span> </span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>())</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's visualize the breakdown of all the different title types</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(title_type_counts, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> count, <span class="at">fill =</span> titleType)) <span class="sc">+</span> </span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"IMDb Media Types and Their Counts"</span>, <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>())) <span class="sc">+</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Paired"</span>)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(), <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>())  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</details>
</section>
<section id="years-old-you-reach-look-as-good-you-will-not" class="level3">
<h3 class="anchored" data-anchor-id="years-old-you-reach-look-as-good-you-will-not">110 years old you reach, look as good you will not</h3>
<p>IMBb is a unrivaled resource for assessing film history. And by history, there is actually some capital “H” history in IMDb.</p>
<p>IMDb counts <code>4</code> as the oldest <code>birthYear</code> for any individual in its dataset. And not just <code>4</code>, there are also <code>birthYear</code> values for <code>46</code>, <code>69</code>, <code>70</code>, <code>163</code>, <code>254</code>. As far as we know, film production is a ~150 year old technology.</p>
<p>What is going on?</p>
<p>Who was born in year <code>4</code>? Year <code>46</code>? Year <code>69</code>?</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>             primaryName</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>       Flavius Josephus</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Publius Vergilius Maro</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>                   Ovid</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  Titus Maccius Plautus</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>     Lucio Anneo Seneca</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>            Cassius Dio</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>               Plutarch</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>              Suetonius</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Are you entertained? A fascinating qwirk of IMDb database is that it credits classical writers and historians for modern film production, again, proving IMDb is if nothing else an historical resource and begs the important question?</p>
<p><em>Does Zach Snyder share <a href="https://en.wikipedia.org/wiki/300_(film)">300</a> points with Plutarch?</em></p>
<p>But how about someone we know or can identify? Who is eldest creator still alive in the IMDb database? A seemingly easy way to identify “oldest creator in IMDb” would be to seek out creators with an <code>NA</code> for <code>deathYear</code>.</p>
<p>Unfortunately there are quite a few people IMDb considers living in their sunset years. IMDb idetifies 2,514 “supercentarians” - individuals 110 years of age or older - who at one time worked the film industry.</p>
<p>The <a href="https://www.grg-supercentenarians.org/">Gerontology Research Group</a> rigorously counts “supercentarians” around the world. A supercentarian is an individual equal-to, or older-than, the age of 110. At current count, there are approximately ~310 supercentarians in the world.</p>
<p>Clearly there is an issue with the IMDb dataset identifying <code>2,514</code> supercentarians in the film industry. There obviously are a multitude of deaths unreported in this data.</p>
<p>But, just because you’re old and you possibly “one-time-maybe did something in the film industry”, should anyone care? There are millions of people who throughout their lives have no-doubt been involved in at least 1 movie production in their lives. Does “old person who once worked on a forgotten independent movie no-one-saw” really communicate anything to us?</p>
<p>I posit that anyone who did anything significant in the film industry would have their <code>deathYear</code> duly reported. Therefore, let’s re-start our search and see if we can arrive at a collection of individuals “significant enough in the film industry” to warrant our interest and attention.</p>
<p>Let’s first try to identify “significant film productions” in our data.</p>
<p>I’m going to use the measure of: “if this film had a lot of people working on it, it no doubt cost a lot of money and was of notable interest to some studio or production company.” So I’m going to count the number of crew on a film and look for a threshold for top produciton.</p>
<p>Here are the quantiles for the crew counts:</p>
<pre><code>10%  20%  30%  40%  50%  60%  70%  80%  90% 100% 
10   14   16   18   19   20   21   22   24   65 </code></pre>
<p><code>90%</code> of all productions have <code>24+</code> or more crew numbers working on them. I’m going to identify any person “significant” in the films industry as someone who has worked on <code>20+</code> such productions. Sorted on <code>number_of_big_productions</code> worked on, sure enough this yields useful information:</p>
<table class="table-striped table-hover caption-top table">
<caption>Data for Big Productions by Various Individuals, Including Age </caption>
<colgroup>
<col style="width: 25%">
<col style="width: 16%">
<col style="width: 36%">
<col style="width: 6%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Birth Year</th>
<th>number_of_big_productions</th>
<th>age</th>
<th>deathYear</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Seth MacFarlane</td>
<td>1973</td>
<td>2505</td>
<td>51</td>
<td>0</td>
</tr>
<tr class="even">
<td>Dee Bradley Baker</td>
<td>1962</td>
<td>2311</td>
<td>62</td>
<td>0</td>
</tr>
<tr class="odd">
<td>Dan Castellaneta</td>
<td>1957</td>
<td>2242</td>
<td>67</td>
<td>0</td>
</tr>
<tr class="even">
<td>Hank Azaria</td>
<td>1964</td>
<td>2191</td>
<td>60</td>
<td>0</td>
</tr>
<tr class="odd">
<td>Harry Shearer</td>
<td>1943</td>
<td>2162</td>
<td>81</td>
<td>0</td>
</tr>
<tr class="even">
<td>Eric Stuart</td>
<td>1967</td>
<td>2043</td>
<td>57</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>These names are all identifiable as prominent voice actors. So with this collection of notable individuals, let’s idenfity the oldest individual in this data set:</p>
<table class="table-striped table-hover caption-top table">
<caption>What a find</caption>
<colgroup>
<col style="width: 19%">
<col style="width: 16%">
<col style="width: 40%">
<col style="width: 7%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>primaryName</th>
<th>birthYear</th>
<th>number_of_big_productions</th>
<th>age</th>
<th>deathYear</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Mel Brooks</td>
<td>1926</td>
<td>37</td>
<td>98</td>
<td>0</td>
</tr>
</tbody>
</table>
<details>
<summary>
&gt; show the code
</summary>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Who is the oldest individual in IMDb?</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(NAME_BASICS<span class="sc">$</span>birthYear, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A birthyear of '4'! Is this a mistake? </span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(NAME_BASICS<span class="sc">$</span>birthYear))</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Who are these individuals? </span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>NAME_BASICS <span class="sc">|&gt;</span> </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    birthYear <span class="sc">==</span> <span class="dv">4</span> <span class="sc">|</span> </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    birthYear <span class="sc">==</span>  <span class="dv">37</span> <span class="sc">|</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    birthYear <span class="sc">==</span>  <span class="dv">43</span> <span class="sc">|</span> </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    birthYear <span class="sc">==</span> <span class="dv">46</span> <span class="sc">|</span> </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    birthYear <span class="sc">==</span> <span class="dv">69</span> <span class="sc">|</span> </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    birthYear <span class="sc">==</span> <span class="dv">70</span> <span class="sc">|</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    birthYear <span class="sc">==</span> <span class="dv">163</span> <span class="sc">|</span> </span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    birthYear <span class="sc">==</span> <span class="dv">254</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(primaryName)</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Are there really that many 110 year-olds in this database? </span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>NAME_BASICS <span class="sc">|&gt;</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(birthYear <span class="sc">&lt;=</span> <span class="dv">1914</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(deathYear)) <span class="sc">|&gt;</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's count the amont of crew working for a poduction </span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>crew_counts_for_title <span class="ot">&lt;-</span> TITLE_PRINCIPALS <span class="sc">|&gt;</span> </span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(tconst) <span class="sc">|&gt;</span> </span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">crew_members =</span> <span class="fu">n</span>()) </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Can we identify the threshold for 'big production' by crew count?</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(crew_counts_for_title<span class="sc">$</span>crew_members, <span class="at">probs =</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="dv">1</span>, <span class="at">by=</span>.<span class="dv">1</span>))</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Top 90% of productions have 24 crew members, so let's use that threshold</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>big_productions <span class="ot">&lt;-</span> crew_counts_for_title <span class="sc">|&gt;</span> </span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(crew_members <span class="sc">&gt;=</span> <span class="dv">24</span>)</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Using 24 crew members as a citeria for "big production", this</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="co"># identifies all of the individuals who have worked on 20 or more </span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="co"># such productions, creating the criteria we're using for "significant </span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a><span class="co"># individuals in film and television"</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>name_ids_in_many_big_productions <span class="ot">&lt;-</span> big_productions <span class="sc">|&gt;</span> </span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(TITLE_PRINCIPALS, <span class="at">by=</span><span class="st">"tconst"</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nconst) <span class="sc">|&gt;</span> </span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">number_of_big_productions =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(number_of_big_productions <span class="sc">&gt;</span> <span class="dv">20</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(number_of_big_productions))</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Mathching up these ids with names </span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>names_in_many_big_productions <span class="ot">&lt;-</span> name_ids_in_many_big_productions <span class="sc">|&gt;</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(NAME_BASICS, <span class="fu">join_by</span>(nconst <span class="sc">==</span> nconst)) <span class="sc">|&gt;</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">deathYear =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(deathYear), <span class="dv">0</span>, deathYear)) <span class="sc">|&gt;</span> </span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age =</span> <span class="fu">ifelse</span>(deathYear <span class="sc">==</span> <span class="dv">0</span>, <span class="dv">2024</span> <span class="sc">-</span> birthYear, deathYear <span class="sc">-</span> birthYear)) <span class="sc">|&gt;</span> </span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(primaryName, birthYear, number_of_big_productions, age, deathYear, nconst)</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Who is the oldest individual in this data set?</span></span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>names_in_many_big_productions <span class="sc">|&gt;</span> </span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(deathYear <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(age)) <span class="sc">|&gt;</span></span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</details>
</section>
<section id="singular-tv-episode-rated-highly" class="level3">
<h3 class="anchored" data-anchor-id="singular-tv-episode-rated-highly">Singular TV Episode rated highly</h3>
<table class="table-striped table-hover caption-top table">
<caption>Hank!</caption>
<thead>
<tr class="header">
<th>series_title</th>
<th>episode_title</th>
<th>year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Breaking Bad</td>
<td>Ozymandias</td>
<td>2013</td>
</tr>
</tbody>
</table>
<details>
<summary>
&gt; show the code
</summary>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>top_episodes <span class="ot">&lt;-</span> TITLE_RATINGS <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(averageRating <span class="sc">==</span> <span class="dv">10</span> <span class="sc">&amp;</span> numVotes <span class="sc">&gt;=</span> <span class="dv">200000</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>episode_details <span class="ot">&lt;-</span> top_episodes <span class="sc">|&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(TITLE_BASICS, <span class="at">by =</span> <span class="st">"tconst"</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(TITLE_EPISODES, <span class="at">by =</span> <span class="st">"tconst"</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>episode_details <span class="sc">|&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(TITLE_BASICS, <span class="fu">join_by</span>(<span class="st">"parentTconst"</span> <span class="sc">==</span> <span class="st">"tconst"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">series_title =</span> primaryTitle.y, <span class="at">episode_title =</span> primaryTitle.x, <span class="at">year =</span> startYear.x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
<section id="star-wars-and-mark-hamill" class="level3">
<h3 class="anchored" data-anchor-id="star-wars-and-mark-hamill">Star Wars and Mark Hamill</h3>
<table class="table-striped table-hover caption-top table">
<caption>Data for Mark Hamill’s Star Wars Movies</caption>
<colgroup>
<col style="width: 18%">
<col style="width: 66%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th>primaryName</th>
<th>primaryTitle</th>
<th>startYear</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Mark Hamill</td>
<td>Star Wars: Episode IV - A New Hope</td>
<td>1977</td>
</tr>
<tr class="even">
<td>Mark Hamill</td>
<td>Star Wars: Episode V - The Empire Strikes Back</td>
<td>1980</td>
</tr>
<tr class="odd">
<td>Mark Hamill</td>
<td>Star Wars: Episode VI - Return of the Jedi</td>
<td>1983</td>
</tr>
<tr class="even">
<td>Mark Hamill</td>
<td>Star Wars: Episode VIII - The Last Jedi</td>
<td>2017</td>
</tr>
</tbody>
</table>
<details>
<summary>
&gt; show the code
</summary>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>mark_hamil_popular_works_IDs <span class="ot">&lt;-</span> NAME_BASICS <span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(primaryName <span class="sc">==</span> <span class="st">"Mark Hamill"</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(knownForTitles, <span class="at">sep =</span><span class="st">","</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>mark_hamil_popular_works_IDs <span class="sc">|&gt;</span> </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(TITLE_BASICS, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"knownForTitles"</span> <span class="ot">=</span> <span class="st">"tconst"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(primaryName, primaryTitle, startYear) <span class="sc">|&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(startYear)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<!-- find parent episode -->
<!-- find all titles a person is involved with -->
<!-- assess this individual's career -->
<!-- 5 what television show with more than 12 episodes has the highest rating? -->
</section>
<section id="what-television-show-with-at-least-12-episodes-has-the-highest-average-rating" class="level3">
<h3 class="anchored" data-anchor-id="what-television-show-with-at-least-12-episodes-has-the-highest-average-rating">What Television Show with at least 12 episodes has the highest average rating?</h3>
<p>This is really unsatisfactory:</p>
<table class="table-striped table-hover caption-top table">
<caption>Data for TV Series and Their Average Ratings</caption>
<colgroup>
<col style="width: 26%">
<col style="width: 43%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>parentTconst</th>
<th>primaryTitle</th>
<th>average_rating_for_series</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>tt0409579</td>
<td>Made</td>
<td>10</td>
</tr>
<tr class="even">
<td>tt11289784</td>
<td>Unus Annus</td>
<td>10</td>
</tr>
<tr class="odd">
<td>tt11363282</td>
<td>The Real Housewives of Salt Lake City</td>
<td>10</td>
</tr>
<tr class="even">
<td>tt21278628</td>
<td>Cowboys of Thunder</td>
<td>10</td>
</tr>
<tr class="odd">
<td>tt0060008</td>
<td>The Milton Berle Show</td>
<td>9.9</td>
</tr>
<tr class="even">
<td>tt0168358</td>
<td>Parkinson</td>
<td>9.9</td>
</tr>
<tr class="odd">
<td>tt0372654</td>
<td>De película</td>
<td>9.9</td>
</tr>
<tr class="even">
<td>tt0491739</td>
<td>In the Nick of Time</td>
<td>9.9</td>
</tr>
<tr class="odd">
<td>tt14117438</td>
<td>Tough Love with Hilary Farr</td>
<td>9.9</td>
</tr>
<tr class="even">
<td>tt31806594</td>
<td>War of Faith</td>
<td>9.9</td>
</tr>
</tbody>
</table>
<p>Let’s investigate the quantiles for number of votes:</p>
<p><img src="images/mp-02/2_quantile_breakdown_of_num_of_votes.jpeg" class="img-fluid" style="width:75%; box-shadow: -1px 1px 2px rgba(0, 0, 0, 0.5); display: block; margin: auto;"></p>
<p>Discounting the disotrting effect of few people voting on a television program, we’ll settle on the the top 10% most popular shows, Admittedly this may miss out on underrecognized, cult programs.</p>
<table class="table-striped table-hover caption-top table">
<caption>I had never heard of Attack on Titan. The Internet loves Anime. </caption>
<thead>
<tr class="header">
<th>parentTconst</th>
<th>primaryTitle</th>
<th>average_rating_for_series</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>tt2560140</td>
<td>Attack on Titan</td>
<td>9.02</td>
</tr>
<tr class="even">
<td>tt0903747</td>
<td>Breaking Bad</td>
<td>8.96</td>
</tr>
<tr class="odd">
<td>tt5753856</td>
<td>Dark</td>
<td>8.89</td>
</tr>
<tr class="even">
<td>tt4158110</td>
<td>Mr.&nbsp;Robot</td>
<td>8.89</td>
</tr>
<tr class="odd">
<td>tt3322312</td>
<td>Daredevil</td>
<td>8.84</td>
</tr>
<tr class="even">
<td>tt1839578</td>
<td>Person of Interest</td>
<td>8.80</td>
</tr>
<tr class="odd">
<td>tt3032476</td>
<td>Better Call Saul</td>
<td>8.80</td>
</tr>
<tr class="even">
<td>tt7660850</td>
<td>Succession</td>
<td>8.75</td>
</tr>
<tr class="odd">
<td>tt0944947</td>
<td>Game of Thrones</td>
<td>8.75</td>
</tr>
<tr class="even">
<td>tt3581920</td>
<td>The Last of Us</td>
<td>8.73</td>
</tr>
</tbody>
</table>
<details>
<summary>
&gt; show the code
</summary>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Group television shows by their parents</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>tv_show_12_episodes <span class="ot">&lt;-</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  TITLE_EPISODES <span class="sc">|&gt;</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(parentTconst) <span class="sc">|&gt;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">numberOfEpisodes =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span>  </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(numberOfEpisodes <span class="sc">&gt;</span> <span class="dv">12</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(numberOfEpisodes))</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify the popular series by averaging the ratings of all episodes</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>tv_show_12_episodes_high_rating_ID <span class="ot">&lt;-</span> </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  tv_show_12_episodes <span class="sc">|&gt;</span> </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(TITLE_RATINGS, <span class="at">by =</span> <span class="st">"tconst"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>seasonNumber, <span class="sc">-</span>episodeNumber, <span class="sc">-</span>tconst) <span class="sc">|&gt;</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(parentTconst) <span class="sc">|&gt;</span> </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">average_rating_for_series =</span> <span class="fu">mean</span>(averageRating), <span class="at">total_votes =</span> <span class="fu">sum</span>(numVotes))</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Join our working list with the master Title list to identify the series</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>tv_show_12_episodes_high_rating_ID <span class="sc">|&gt;</span> </span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(TITLE_BASICS, <span class="fu">join_by</span>(parentTconst <span class="sc">==</span> tconst)) </span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Investigate the name of the most popular shows</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>tv_show_12_episodes_high_rating_titles <span class="ot">&lt;-</span> </span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  tv_show_12_episodes_high_rating_ID <span class="sc">|&gt;</span> </span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(TITLE_BASICS, <span class="fu">join_by</span>(parentTconst <span class="sc">==</span> tconst)) <span class="sc">|&gt;</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(parentTconst, primaryTitle) <span class="sc">|&gt;</span>  </span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">average_rating_for_series =</span> <span class="fu">first</span>(average_rating_for_series), <span class="at">.groups =</span> <span class="st">'drop'</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(average_rating_for_series))  </span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>tv_show_12_episodes_high_rating_titles</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a><span class="co"># This yielded unsatisfactory, unidentifiable series, let's try to limit by quantile</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(tv_show_12_episodes_high_rating_ID<span class="sc">$</span>total_votes, <span class="at">prob =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,.<span class="dv">1</span>))</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph used to visualize the quantiles</span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(quantile_data, <span class="fu">aes</span>(<span class="at">x =</span> quantile, <span class="at">y =</span> votes, <span class="at">fill =</span> quantile)) <span class="sc">+</span> </span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span> </span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set3"</span>) <span class="sc">+</span>  </span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Quantile Breakdown of Number of Votes"</span>, </span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Percentage of Shows Receiving Votes"</span>, </span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of Votes"</span>) <span class="sc">+</span></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>())) <span class="sc">+</span></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,  <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))  </span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Investegating the top 10% of shows </span></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>tv_show_12_episodes_high_rating_titles <span class="ot">&lt;-</span> </span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>  tv_show_12_episodes_high_rating_ID <span class="sc">|&gt;</span> </span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(TITLE_BASICS, <span class="fu">join_by</span>(parentTconst <span class="sc">==</span> tconst)) <span class="sc">|&gt;</span></span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(total_votes <span class="sc">&gt;</span> <span class="dv">327732</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(parentTconst, primaryTitle) <span class="sc">|&gt;</span>  </span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">average_rating_for_series =</span> <span class="fu">first</span>(average_rating_for_series), <span class="at">.groups =</span> <span class="st">'drop'</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(average_rating_for_series)) <span class="sc">|&gt;</span></span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> average_rating_for_series, <span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<!-- The TV series Happy Days (1974-1984) gives us the common idiom “jump the shark”. The phrase comes from a controversial fifth season episode (aired in 1977) in which a lead character literally jumped over a shark on water skis. Idiomatically, it is used to refer to the moment when a once-great show becomes ridiculous and rapidly looses quality. -->
</section>
<section id="jump-the-shark-with-happy-days" class="level3">
<h3 class="anchored" data-anchor-id="jump-the-shark-with-happy-days">Jump the Shark with Happy Days</h3>
<p>Wikipedia suggests the famous “jumping the shark” episode from Happy Days happened episode <code>3</code> season <code>5</code>.</p>
<p>After we identify all the episdoes of Happy Days in our IMDb data we create two sets of data filtered around the pivot point of season <code>5</code> episode <code>3</code> : <strong>before shark</strong> and <strong>after shark</strong>.</p>
<p>Performing calculations on these two sets we see:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">mean</span>(happy_days_episodes_ratings_before_shark<span class="sc">$</span>averageRating)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">7.484404</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">mean</span>(happy_days_episodes_after_shark<span class="sc">$</span>averageRating)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">6.878571</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Happy Days did, in fact, jump its own proverbial shark.</p>
<details>
<summary>
&gt; show the code
</summary>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identifying the IMDb ID for television series "Happy Days"</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>TITLE_BASICS <span class="sc">|&gt;</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(titleType <span class="sc">==</span> <span class="st">"tvSeries"</span> <span class="sc">&amp;</span> primaryTitle <span class="sc">==</span> <span class="st">"Happy Days"</span>) </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Singling out all "Happy Days" epsidoes in our titles dataset </span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>happy_days_episodes <span class="ot">&lt;-</span> TITLE_EPISODES <span class="sc">|&gt;</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(parentTconst <span class="sc">==</span> <span class="st">"tt0070992"</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Joining our "Happy Days" episodes with their ratings</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>happy_days_episodes_ratings <span class="ot">&lt;-</span> happy_days_episodes <span class="sc">|&gt;</span> </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(TITLE_RATINGS, <span class="at">by =</span> <span class="st">"tconst"</span>)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtering on all episodes before the infamous "shark jump" episode of </span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Episode 3, Season 5</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>happy_days_episodes_ratings_before_shark <span class="ot">&lt;-</span> happy_days_episodes_ratings <span class="sc">|&gt;</span> </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>((seasonNumber <span class="sc">&lt;</span> <span class="dv">5</span>) <span class="sc">|</span> (seasonNumber <span class="sc">==</span> <span class="dv">5</span> <span class="sc">&amp;</span> episodeNumber <span class="sc">&lt;</span> <span class="dv">3</span>)) </span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="co"># With our "before shark" episodes, using a filter join to create a data set</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="co"># for "after shark" </span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>happy_days_episodes_after_shark <span class="ot">&lt;-</span> happy_days_episodes_ratings <span class="sc">|&gt;</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(happy_days_episodes_ratings_before_shark, <span class="at">by =</span> <span class="st">"tconst"</span>) </span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a><span class="co"># With "before shark" and "after shark" data sets, we can perform our calculations</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(happy_days_episodes_ratings_before_shark<span class="sc">$</span>averageRating)</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(happy_days_episodes_after_shark<span class="sc">$</span>averageRating)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details>
<!-- Season 5, episode 3 -->
</details></details></section>
</section>
<section id="beyond-the-spotlight" class="level2">
<h2 class="anchored" data-anchor-id="beyond-the-spotlight">Beyond the Spotlight</h2>
<p>We’re going to use ratings in IMDb to create a measure to document the significant, successful films. IMDb ratings are crowdsources from its users. Films with more votes are going to have more stable rating and there is a left skew to the distribution of films and the number of individuals who have rated the film:</p>
<pre><code>     0%     10%     20%     30%     40%     50%     60%     70%     80%     90% 
    100     120     148     187     246     332     473     738    1332    3355</code></pre>
<p>I’m going to filter out the top <code>~20%</code> of rated films.</p>
<p>In an attempt to single out noteworthy remaining films, I created a statistical quantification of a movie’s positioning by evaluating both its IMDb rating and the number of IMDb users who voted on the film. This approach aims to capture both the <strong>quality</strong> (via the rating) and the <strong>popularity</strong> (via the number of votes) of the film.</p>
<p>To achieve this, I calculated <strong>Z-scores</strong> for both the film’s rating and its number of votes, which measure how far each value deviates from the mean in terms of standard deviations. I then transformed these Z-scores into <strong>cumulative probabilities</strong> using the <code>pnorm()</code> function, which maps the Z-scores to probabilities between 0 and 1, effectively scaling the values from 1 to 100. To emphasize quality, I assigned a weight of 2 to the film’s rating in the final combined score.</p>
<p><span class="math display">\[
\text{Total Score} = 2 \cdot \Phi(\text{rating score}) + \Phi(\text{votes score})
\]</span></p>
<p><strong>Here are the results for the top films</strong>:</p>
<table class="table-striped table-hover caption-top table">
<caption>Table: Top 10 Movies by Film Score</caption>
<colgroup>
<col style="width: 68%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Primary Title</th>
<th>Start Year</th>
<th>Film Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The Shawshank Redemption</td>
<td>1994</td>
<td>99.97593</td>
</tr>
<tr class="even">
<td>The Godfather</td>
<td>1972</td>
<td>99.97335</td>
</tr>
<tr class="odd">
<td>The Godfather Part II</td>
<td>1974</td>
<td>99.96597</td>
</tr>
<tr class="even">
<td>Schindler’s List</td>
<td>1993</td>
<td>99.96597</td>
</tr>
<tr class="odd">
<td>The Lord of the Rings: The Return of the King</td>
<td>2003</td>
<td>99.96597</td>
</tr>
<tr class="even">
<td>The Dark Knight</td>
<td>2008</td>
<td>99.96597</td>
</tr>
<tr class="odd">
<td>12 Angry Men</td>
<td>1957</td>
<td>99.96597</td>
</tr>
<tr class="even">
<td>Pulp Fiction</td>
<td>1994</td>
<td>99.96070</td>
</tr>
<tr class="odd">
<td>The Lord of the Rings: The Fellowship of the Ring</td>
<td>2001</td>
<td>99.96070</td>
</tr>
<tr class="even">
<td>Forrest Gump</td>
<td>1994</td>
<td>99.95391</td>
</tr>
</tbody>
</table>
<p><strong>Here are the results for the bottom films</strong>:</p>
<table class="table-striped table-hover caption-top table">
<caption>Table: Movies with Low Film Scores</caption>
<colgroup>
<col style="width: 68%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Primary Title</th>
<th>Start Year</th>
<th>Film Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Track of the Moon Beast</td>
<td>1976</td>
<td>6.580106</td>
</tr>
<tr class="even">
<td>Boggy Creek II: And the Legend Continues</td>
<td>1983</td>
<td>6.577407</td>
</tr>
<tr class="odd">
<td>Anne B. Real</td>
<td>2003</td>
<td>6.576749</td>
</tr>
<tr class="even">
<td>Kayhan</td>
<td>2018</td>
<td>6.576689</td>
</tr>
<tr class="odd">
<td>Orgy of the Dead</td>
<td>1965</td>
<td>6.576307</td>
</tr>
<tr class="even">
<td>Amazing China</td>
<td>2018</td>
<td>6.575677</td>
</tr>
<tr class="odd">
<td>Darling Nikki</td>
<td>2019</td>
<td>6.573956</td>
</tr>
<tr class="even">
<td>Alien Warfare</td>
<td>2019</td>
<td>6.572054</td>
</tr>
<tr class="odd">
<td>Anus Magillicutty</td>
<td>2003</td>
<td>6.569317</td>
</tr>
<tr class="even">
<td>Hole in One</td>
<td>2009</td>
<td>6.564986</td>
</tr>
</tbody>
</table>
<p>Movie Box Office is reported in several popular, widely available media outlets and box office data is the type of low-stakes, hobby-friendly metrics that Internet-curated resources like <a href="https://www.kaggle.com/">Kaggle</a> are uniquely suited for. To check the box office returns of the Total Score calculation, the <a href="https://www.kaggle.com/datasets/rounakbanik/the-movies-dataset">Kaggle Movies Dataset</a> was used for box office under the variable <code>revenue</code>.</p>
<p>However, films can span several decades and box office figures are not as useless unless the numbers are controlled in constant dollars. To correct for this the following variable was added to our data:</p>
<p><span class="math inline">\(\text{Box Office Adjusted in 2024 Dollars} = \text{Box Office} \times \frac{\text{Consumer Price Index 2024}}{\text{Consumer Price Index Historical Year}}\)</span></p>
<p>It’s always interesting to view films ranked by adjust box office figures :</p>
<table class="table-striped table-hover caption-top table">
<caption>Table: Top 10 Movies by Adjusted Box Office in 2024 Dollars</caption>
<colgroup>
<col style="width: 57%">
<col style="width: 12%">
<col style="width: 29%">
</colgroup>
<thead>
<tr class="header">
<th>Primary Title</th>
<th>Start Year</th>
<th>Adjusted Box Office</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Gone with the Wind</td>
<td>1939</td>
<td>$8,815,801,640</td>
</tr>
<tr class="even">
<td>Alice in Wonderland</td>
<td>1951</td>
<td>$6,945,453,701</td>
</tr>
<tr class="odd">
<td>Bambi</td>
<td>1942</td>
<td>$5,253,837,431</td>
</tr>
<tr class="even">
<td>Star Wars: Episode IV - A New Hope</td>
<td>1977</td>
<td>$4,087,964,566</td>
</tr>
<tr class="odd">
<td>Avatar</td>
<td>2009</td>
<td>$4,072,386,147</td>
</tr>
<tr class="even">
<td>Snow White and the Seven Dwarfs</td>
<td>1937</td>
<td>$4,044,976,143</td>
</tr>
<tr class="odd">
<td>Titanic</td>
<td>1997</td>
<td>$3,576,617,908</td>
</tr>
<tr class="even">
<td>Cinderella</td>
<td>1950</td>
<td>$3,459,407,380</td>
</tr>
<tr class="odd">
<td>The Exorcist</td>
<td>1973</td>
<td>$3,194,983,975</td>
</tr>
<tr class="even">
<td>The Sound of Music</td>
<td>1965</td>
<td>$2,829,274,085</td>
</tr>
</tbody>
</table>
<p>Here now is our data with our box office figures. This table suggests Film Score identifies financially successful films:</p>
<table class="table-striped table-hover caption-top table">
<caption>Table: Top 10 Movies by Film Score and Adjusted Box Office</caption>
<colgroup>
<col style="width: 52%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th>Primary Title</th>
<th>Start Year</th>
<th>Film Score</th>
<th>Adjusted Box Office</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The Shawshank Redemption</td>
<td>1994</td>
<td>99.97593</td>
<td>$59,787,899</td>
</tr>
<tr class="even">
<td>The Godfather</td>
<td>1972</td>
<td>99.97335</td>
<td>$1,838,993,851</td>
</tr>
<tr class="odd">
<td>The Godfather Part II</td>
<td>1974</td>
<td>99.96597</td>
<td>$314,657,090</td>
</tr>
<tr class="even">
<td>Schindler’s List</td>
<td>1993</td>
<td>99.96597</td>
<td>$695,053,325</td>
</tr>
<tr class="odd">
<td>The Lord of the Rings: The Return of the King</td>
<td>2003</td>
<td>99.96597</td>
<td>$1,899,198,581</td>
</tr>
<tr class="even">
<td>The Dark Knight</td>
<td>2008</td>
<td>99.96597</td>
<td>$1,467,798,473</td>
</tr>
<tr class="odd">
<td>12 Angry Men</td>
<td>1957</td>
<td>99.96597</td>
<td>$11,174,529</td>
</tr>
<tr class="even">
<td>Pulp Fiction</td>
<td>1994</td>
<td>99.96070</td>
<td>$451,294,576</td>
</tr>
<tr class="odd">
<td>The Lord of the Rings: The Fellowship of the Ring</td>
<td>2001</td>
<td>99.96070</td>
<td>$1,534,807,634</td>
</tr>
<tr class="even">
<td>Forrest Gump</td>
<td>1994</td>
<td>99.95391</td>
<td>$1,430,163,380</td>
</tr>
</tbody>
</table>
<p>While The Shawshank Redemption looks like a “failure” here, it famously more than made up for its lackluster Box Office returns in <a href="https://www.slashfilm.com/1670564/the-shawshank-redemption-box-office-flop-30-years-ago/">DVD sales, cable television licensing and streaming agreements</a>:</p>
<blockquote class="blockquote">
<p>“It’s an incredible moneymaking asset that continues to resonate with viewers,” said Jeff Baker, the former executive vice president and general manager of Warner Bros.&nbsp;Home Entertainment theatrical catalog, in that Wall Street Journal piece. “Shawshank” is one of the best performers in the studio’s library, in no small part thanks to strong DVD/Blu-ray sales, not to mention streaming</p>
</blockquote>
<p>Does <code>Film Score</code> work in reverse? Does it correctly identify “bad” movies?</p>
<p>Filtering for films that are in the top <code>80%</code> of movies voted on, and sorting on <code>film_score</code> yields some truly terrible films:</p>
<table class="table-striped table-hover caption-top table">
<caption>Table: Movies with Moderate Film Scores and Adjusted Box Office</caption>
<colgroup>
<col style="width: 53%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th>Primary Title</th>
<th>Start Year</th>
<th>Film Score</th>
<th>Adjusted Box Office</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The Starfighters</td>
<td>1964</td>
<td>6.541835</td>
<td>$0</td>
</tr>
<tr class="even">
<td>Final Justice</td>
<td>1984</td>
<td>6.547430</td>
<td>$0</td>
</tr>
<tr class="odd">
<td>Time Chasers</td>
<td>1994</td>
<td>6.552881</td>
<td>$0</td>
</tr>
<tr class="even">
<td>Mega Shark vs.&nbsp;Mecha Shark</td>
<td>2014</td>
<td>6.553869</td>
<td>$0</td>
</tr>
<tr class="odd">
<td>Orgy of the Dead</td>
<td>1965</td>
<td>6.576307</td>
<td>$0</td>
</tr>
<tr class="even">
<td>Boggy Creek II: And the Legend Continues</td>
<td>1983</td>
<td>6.577407</td>
<td>$0</td>
</tr>
<tr class="odd">
<td>Track of the Moon Beast</td>
<td>1976</td>
<td>6.580106</td>
<td>$0</td>
</tr>
<tr class="even">
<td>Levottomat 3 - kun mikään ei riitä</td>
<td>2004</td>
<td>6.581920</td>
<td>$0</td>
</tr>
<tr class="odd">
<td>The Blade Master</td>
<td>1983</td>
<td>6.583010</td>
<td>$0</td>
</tr>
<tr class="even">
<td>Girl in Gold Boots</td>
<td>1968</td>
<td>6.585128</td>
<td>$0</td>
</tr>
</tbody>
</table>
<p>How about examining a prominent director? Is there any direcor more prominent than Steven Spielberg? Querying for <code>film_score</code>, we find Steven Spielberg’s films score :</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">88.5889</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Even including <em>Indiana Jones and the Kingdom of the Crystal Skull (2008)</em>, <em>The BFG (2016)</em>, and <em>Always (1989)</em> Steven Spielberg films collectively average in the top <code>89%</code> of all films. <code>film_score</code> correctly identifies the most prominent talent in the industry.</p>
<p>How does another director compare to Steven Spielberg?</p>
<p>Direcor Uwe Boll is famous for being a critically reviled filmmaker. He’s actually known as <a href="https://www.vice.com/en/article/the-worst-director-in-the-world/">“The Worst Director in the World”</a>.</p>
<p>Does <code>film_score</code> correctly identify Uwe Boll’s filmography as not-Spielbergian?</p>
<p>It certainly does. Here is the collective <code>film_score</code> rating of all Uwe Boll films:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">14.53452</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To identify a <code>film_score</code> cut-off, I exported the data into a spread sheet for ease of viewing. I scrolled through the films assessing the quality of the neighboring films until I started to identify a good number of forgettable films. I used the entirely scientific process of scanning this list until I reached the point of “I really don’t see many good films below this number.” I found a fitting threshold with <em>Indiana Jones and the Kingdom of the Crystal Skull (2008)</em>.</p>
<p>I’m going to settle on <code>77.46</code> as the <code>film_score</code> threshold dividing “good movie” from “bad movie”:</p>
<p><img src="images/mp-02/crystal-skull.jpg" class="img-fluid" style="width:75%; box-shadow: -1px 1px 2px rgba(0, 0, 0, 0.5); display: block; margin: auto;"></p>
<details>
<summary>
&gt; show the code
</summary>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Surveying the distriubtion of films by number of votes</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(TITLE_RATINGS<span class="sc">$</span>numVotes, <span class="at">probs=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="fl">0.05</span>))</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtering those films accordingly </span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>filtered_title_ratings <span class="ot">&lt;-</span> TITLE_RATINGS <span class="sc">|&gt;</span> </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(numVotes <span class="sc">&gt;</span> <span class="dv">3335</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Finding the standard deviations and mean for ratings and votes</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>SD_RATING <span class="ot">&lt;-</span> <span class="fu">sd</span>(filtered_title_ratings<span class="sc">$</span>averageRating)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>MEAN_RATING <span class="ot">&lt;-</span> <span class="fu">mean</span>(filtered_title_ratings<span class="sc">$</span>averageRating)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>SD_VOTES <span class="ot">&lt;-</span> <span class="fu">sd</span>(filtered_title_ratings<span class="sc">$</span>numVotes)</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>MEAN_VOTES <span class="ot">&lt;-</span><span class="fu">mean</span>(filtered_title_ratings<span class="sc">$</span>numVotes)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating the cumulative probabilities for ratings and votes </span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="co"># and created total_score metric</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>films_scores <span class="ot">&lt;-</span> filtered_title_ratings <span class="sc">|&gt;</span> </span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(TITLE_BASICS, <span class="at">by =</span> <span class="st">"tconst"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(titleType <span class="sc">==</span> <span class="st">"movie"</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">rating_score =</span> <span class="fu">pnorm</span>((averageRating <span class="sc">-</span> MEAN_RATING) <span class="sc">/</span> SD_RATING),</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">votes_score =</span> <span class="fu">pnorm</span>((numVotes <span class="sc">-</span> MEAN_VOTES) <span class="sc">/</span> SD_VOTES)</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_score =</span> <span class="dv">2</span> <span class="sc">*</span> rating_score <span class="sc">+</span> votes_score) <span class="sc">|&gt;</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_score)) </span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-calculating the standard deviations for total_score</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>SD_SCORE <span class="ot">&lt;-</span> <span class="fu">sd</span>(films_scores<span class="sc">$</span>total_score)</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>MEAN_SCORE <span class="ot">&lt;-</span> <span class="fu">mean</span>(films_scores<span class="sc">$</span>total_score)</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Converting total_score to film_score via cumulative probabilities</span></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>films_scores <span class="ot">&lt;-</span> films_scores <span class="sc">|&gt;</span> </span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">film_score =</span> <span class="fu">pnorm</span>((total_score <span class="sc">-</span> MEAN_SCORE) <span class="sc">/</span> SD_SCORE) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> </span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(film_score)) </span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking if film_score identifies good films</span></span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>films_scores <span class="sc">|&gt;</span> </span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(films_scores, <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(primaryTitle, startYear, film_score)</span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking if film_score identifies bad films</span></span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>films_scores <span class="sc">|&gt;</span> </span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>(films_scores, <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(primaryTitle, startYear, film_score)</span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a><span class="do">##### CONSUMER PRICE INDEX CALCULATIONS #####</span></span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading the historical CPI figure for each year</span></span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a>HISTORICAL_CPI <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/mp02/HISTORICAL_CPI.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">substring</span>(DATE,<span class="dv">1</span>,<span class="dv">4</span>))</span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a named vector for CPI figures for each year</span></span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a>cpi_named_vector <span class="ot">&lt;-</span> <span class="fu">setNames</span>(HISTORICAL_CPI<span class="sc">$</span>CPIAUCNS, HISTORICAL_CPI<span class="sc">$</span>year)</span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Function for calculating a dollar figure by 2024 dollars</span></span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a>get_dollar_adjusted_value <span class="ot">&lt;-</span> <span class="cf">function</span>(budget, year){</span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (budget <span class="sc">*</span> cpi_named_vector[<span class="fu">as.character</span>(<span class="dv">2024</span>)]<span class="sc">/</span>cpi_named_vector[<span class="fu">as.character</span>(year)]) </span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a><span class="do">#############################################</span></span>
<span id="cb15-62"><a href="#cb15-62" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-63"><a href="#cb15-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Add adjusted_box_office figure now with CPI calculation</span></span>
<span id="cb15-64"><a href="#cb15-64" aria-hidden="true" tabindex="-1"></a>films_scores_box_office <span class="ot">&lt;-</span> films_scores <span class="sc">|&gt;</span></span>
<span id="cb15-65"><a href="#cb15-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(KAGGLE_DATA, <span class="fu">join_by</span>(tconst <span class="sc">==</span> imdb_id)) <span class="sc">|&gt;</span> </span>
<span id="cb15-66"><a href="#cb15-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">adjusted_box_office =</span> <span class="fu">get_dollar_adjusted_value</span>(revenue, startYear))</span>
<span id="cb15-67"><a href="#cb15-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-68"><a href="#cb15-68" aria-hidden="true" tabindex="-1"></a><span class="co"># Surveying how good film_score is at documenting box office successes</span></span>
<span id="cb15-69"><a href="#cb15-69" aria-hidden="true" tabindex="-1"></a>films_scores_box_office <span class="sc">|&gt;</span> </span>
<span id="cb15-70"><a href="#cb15-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(primaryTitle, startYear, film_score, adjusted_box_office ) <span class="sc">|&gt;</span></span>
<span id="cb15-71"><a href="#cb15-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(film_score)) <span class="sc">|&gt;</span> </span>
<span id="cb15-72"><a href="#cb15-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb15-73"><a href="#cb15-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-74"><a href="#cb15-74" aria-hidden="true" tabindex="-1"></a><span class="co"># Surveying how good film_score is at documenting box office failures</span></span>
<span id="cb15-75"><a href="#cb15-75" aria-hidden="true" tabindex="-1"></a>films_scores_box_office <span class="sc">|&gt;</span> </span>
<span id="cb15-76"><a href="#cb15-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(primaryTitle, startYear, film_score)</span>
<span id="cb15-77"><a href="#cb15-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>(films_scores, <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-78"><a href="#cb15-78" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-79"><a href="#cb15-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Finding Steven Spielberg</span></span>
<span id="cb15-80"><a href="#cb15-80" aria-hidden="true" tabindex="-1"></a>ss_id <span class="ot">&lt;-</span> NAME_BASICS <span class="sc">|&gt;</span> </span>
<span id="cb15-81"><a href="#cb15-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(primaryName <span class="sc">==</span> <span class="st">"Steven Spielberg"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb15-82"><a href="#cb15-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(nconst)</span>
<span id="cb15-83"><a href="#cb15-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-84"><a href="#cb15-84" aria-hidden="true" tabindex="-1"></a><span class="co"># Identifying all Steven Spielberg films</span></span>
<span id="cb15-85"><a href="#cb15-85" aria-hidden="true" tabindex="-1"></a>ss_films <span class="ot">&lt;-</span> TITLE_PRINCIPALS <span class="sc">|&gt;</span> </span>
<span id="cb15-86"><a href="#cb15-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(nconst <span class="sc">==</span> ss_id[<span class="dv">1</span>] <span class="sc">&amp;</span> category <span class="sc">==</span> <span class="st">"director"</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-87"><a href="#cb15-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(tconst)</span>
<span id="cb15-88"><a href="#cb15-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-89"><a href="#cb15-89" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating average score for all Steven Spielberg films</span></span>
<span id="cb15-90"><a href="#cb15-90" aria-hidden="true" tabindex="-1"></a>films_scores_box_office <span class="sc">|&gt;</span></span>
<span id="cb15-91"><a href="#cb15-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tconst <span class="sc">%in%</span> ss_films) <span class="sc">|&gt;</span></span>
<span id="cb15-92"><a href="#cb15-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">average_film_score =</span> <span class="fu">mean</span>(film_score, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb15-93"><a href="#cb15-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(average_film_score)</span>
<span id="cb15-94"><a href="#cb15-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-95"><a href="#cb15-95" aria-hidden="true" tabindex="-1"></a><span class="co"># Finding Uwe Boll</span></span>
<span id="cb15-96"><a href="#cb15-96" aria-hidden="true" tabindex="-1"></a>ub_id <span class="ot">&lt;-</span> NAME_BASICS <span class="sc">|&gt;</span> </span>
<span id="cb15-97"><a href="#cb15-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(primaryName <span class="sc">==</span> <span class="st">"Uwe Boll"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb15-98"><a href="#cb15-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(nconst)</span>
<span id="cb15-99"><a href="#cb15-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-100"><a href="#cb15-100" aria-hidden="true" tabindex="-1"></a><span class="co"># Identifying all Uwe Boll films</span></span>
<span id="cb15-101"><a href="#cb15-101" aria-hidden="true" tabindex="-1"></a>ub_films <span class="ot">&lt;-</span> TITLE_PRINCIPALS <span class="sc">|&gt;</span> </span>
<span id="cb15-102"><a href="#cb15-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(nconst <span class="sc">==</span> ub_id[<span class="dv">1</span>] <span class="sc">&amp;</span> category <span class="sc">==</span> <span class="st">"director"</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-103"><a href="#cb15-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(tconst)</span>
<span id="cb15-104"><a href="#cb15-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-105"><a href="#cb15-105" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating the average score for all Uwe Boll films</span></span>
<span id="cb15-106"><a href="#cb15-106" aria-hidden="true" tabindex="-1"></a>films_scores_box_office <span class="sc">|&gt;</span></span>
<span id="cb15-107"><a href="#cb15-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tconst <span class="sc">%in%</span> ub_films) <span class="sc">|&gt;</span></span>
<span id="cb15-108"><a href="#cb15-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">average_film_score =</span> <span class="fu">mean</span>(film_score, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb15-109"><a href="#cb15-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(average_film_score)</span>
<span id="cb15-110"><a href="#cb15-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-111"><a href="#cb15-111" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Frame exported for analysis </span></span>
<span id="cb15-112"><a href="#cb15-112" aria-hidden="true" tabindex="-1"></a>df_csv <span class="ot">&lt;-</span> films_scores_box_office <span class="sc">|&gt;</span></span>
<span id="cb15-113"><a href="#cb15-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(primaryTitle, startYear, film_score, adjusted_box_office)</span>
<span id="cb15-114"><a href="#cb15-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-115"><a href="#cb15-115" aria-hidden="true" tabindex="-1"></a><span class="co"># Export a .csv for viewing</span></span>
<span id="cb15-116"><a href="#cb15-116" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df_csv, <span class="st">"films_scores_box_office.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
<section id="best-in-decade" class="level2">
<h2 class="anchored" data-anchor-id="best-in-decade">Best in Decade</h2>
<p>Assessing the popularity of film genres across decades yields interesting insight into American Culture.</p>
<p><img src="images/mp-02/genre-popularity-with-independent-films.jpeg" class="img-fluid"></p>
<p>We can see <code>Western</code> indeed being a forgotten genre, falling out of favor by the time of the <code>1970</code>s and <code>1980</code>s. Same with <code>War</code>, likely a reflection of the fading legacy of America’s triumphant relationship with World War II. And for the horniest segment of this project, this chart does indeed document the famed Adult Entertainment Film Production Heyday of the <code>1970</code>s and <code>1980</code>s.</p>
<p>The existence of <code>Comedy</code> and <code>Drama</code> is pretty steady in this data. What if we were to?:</p>
<ol type="1">
<li>Remove all <code>Comedy</code> and <code>Drama</code> films</li>
<li>Remove all independent or films that did not gross any revenue</li>
</ol>
<!-- ![This is a caption with an aligned image.](path/to/image.png){fig-cap="This is a caption for the image." width="50%" align="center"} -->
<!-- ![Hello How are you?](images/mp-02/genre-popularity-without-comedy-drama.jpeg){style="width:75%; box-shadow: -1px 1px 2px rgba(0, 0, 0, 0.5); padding: 5px; display: block; margin: auto;"} -->
<p><img src="images/mp-02/genre-popularity-without-comedy-drama.jpeg" class="img-fluid" data-fig-cap="Hello how are you"></p>
<p>This yields an edifying chart as it more visably identifies the rise and fall of genre trends - with the understanding <code>Comedy</code> and <code>Drama</code> are longstanding genres that are unlikely to fall out of favor anytime soon.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mp-02/wages-by-gender.jpeg" class="img-fluid figure-img"></p>
<figcaption>Bureau of Labor Statistics</figcaption>
</figure>
</div>
<details>
<summary>
&gt; show the code
</summary>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>slim_title_basics <span class="ot">&lt;-</span> TITLE_BASICS <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(startYear <span class="sc">&gt;</span> <span class="dv">1940</span> <span class="sc">&amp;</span> titleType <span class="sc">==</span> <span class="st">"movie"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tconst, primaryTitle, startYear, genres, titleType) <span class="sc">|&gt;</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(genres, <span class="at">sep =</span> <span class="st">","</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(genres <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Music"</span>,<span class="st">"Musical"</span>, <span class="st">"Reality-TV"</span>, <span class="st">"News"</span>,<span class="st">"</span><span class="sc">\\</span><span class="st">N"</span>, <span class="st">"Talk-Show"</span>, <span class="st">"Film-Noir"</span>,<span class="st">"Game-Show"</span>,  <span class="st">"History"</span>,<span class="st">"Biography"</span>, <span class="st">"Crime"</span>, <span class="st">"Sport"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">startYear =</span> <span class="fu">as.numeric</span>(startYear), </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">decade =</span> <span class="fu">floor</span>(startYear <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">decade =</span> <span class="fu">factor</span>(decade, <span class="at">levels =</span> <span class="fu">sort</span>(<span class="fu">unique</span>(<span class="fu">floor</span>(<span class="fu">as.numeric</span>(startYear) <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>))))</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>genre_count_by_decade <span class="ot">&lt;-</span> slim_title_basics <span class="sc">|&gt;</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(decade, genres) <span class="sc">|&gt;</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">genre_count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(genre_count_by_decade, <span class="fu">aes</span>(<span class="at">x =</span> decade, <span class="at">y =</span> genre_count, <span class="at">fill =</span> genres)) <span class="sc">+</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span>  <span class="co"># Makes the y-axis percentages</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Percentage"</span>, <span class="at">x =</span> <span class="st">"Decade"</span>, <span class="at">fill =</span> <span class="st">"Genres"</span>, <span class="at">title =</span> <span class="st">"Genre Popularity by Decade"</span>,</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">"With Independent Films"</span>) <span class="sc">+</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),           </span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>slim_title <span class="ot">&lt;-</span> films_scores <span class="sc">|&gt;</span> </span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(startYear <span class="sc">&gt;</span> <span class="dv">1940</span> <span class="sc">&amp;</span> titleType <span class="sc">==</span> <span class="st">"movie"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tconst, primaryTitle, startYear, genres, titleType) <span class="sc">|&gt;</span> </span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(genres, <span class="at">sep =</span> <span class="st">","</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(genres <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Music"</span>,<span class="st">"Musical"</span>, <span class="st">"Reality-TV"</span>, <span class="st">"News"</span>,<span class="st">"</span><span class="sc">\\</span><span class="st">N"</span>, <span class="st">"Talk-Show"</span>, <span class="st">"Film-Noir"</span>,<span class="st">"Game-Show"</span>,  <span class="st">"History"</span>,<span class="st">"Biography"</span>, <span class="st">"Crime"</span>, <span class="st">"Sport"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">startYear =</span> <span class="fu">as.numeric</span>(startYear), </span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">decade =</span> <span class="fu">floor</span>(startYear <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>,</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">decade =</span> <span class="fu">factor</span>(decade, <span class="at">levels =</span> <span class="fu">sort</span>(<span class="fu">unique</span>(<span class="fu">floor</span>(<span class="fu">as.numeric</span>(startYear) <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>))))</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>genre_count_by_decade <span class="ot">&lt;-</span> slim_title <span class="sc">|&gt;</span></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(decade, genres) <span class="sc">|&gt;</span></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">genre_count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(genre_count_by_decade, <span class="fu">aes</span>(<span class="at">x =</span> decade, <span class="at">y =</span> genre_count, <span class="at">fill =</span> genres)) <span class="sc">+</span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span>  <span class="co"># Makes the y-axis percentages</span></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Percentage"</span>, <span class="at">x =</span> <span class="st">"Decade"</span>, <span class="at">fill =</span> <span class="st">"Genres"</span>, <span class="at">title =</span> <span class="st">"Genre Popularity by Decade"</span>,</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">"Without Independent Films"</span>) <span class="sc">+</span></span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),           </span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>slim_title_no_comedy_no_drama <span class="ot">&lt;-</span> films_scores <span class="sc">|&gt;</span> </span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(startYear <span class="sc">&gt;</span> <span class="dv">1940</span> <span class="sc">&amp;</span> titleType <span class="sc">==</span> <span class="st">"movie"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tconst, primaryTitle, startYear, genres, titleType) <span class="sc">|&gt;</span> </span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(genres, <span class="at">sep =</span> <span class="st">","</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(genres <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Music"</span>,<span class="st">"Musical"</span>,<span class="st">"Comedy"</span>, <span class="st">"Drama"</span>, <span class="st">"Reality-TV"</span>, <span class="st">"News"</span>,<span class="st">"</span><span class="sc">\\</span><span class="st">N"</span>, <span class="st">"Talk-Show"</span>, <span class="st">"Film-Noir"</span>,<span class="st">"Game-Show"</span>,  <span class="st">"History"</span>,<span class="st">"Biography"</span>, <span class="st">"Crime"</span>, <span class="st">"Sport"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">startYear =</span> <span class="fu">as.numeric</span>(startYear), </span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>         <span class="at">decade =</span> <span class="fu">floor</span>(startYear <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>,</span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>         <span class="at">decade =</span> <span class="fu">factor</span>(decade, <span class="at">levels =</span> <span class="fu">sort</span>(<span class="fu">unique</span>(<span class="fu">floor</span>(<span class="fu">as.numeric</span>(startYear) <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>))))</span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>genre_count_by_decade_no_comedy <span class="ot">&lt;-</span> slim_title_no_comedy_no_drama <span class="sc">|&gt;</span></span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(decade, genres) <span class="sc">|&gt;</span></span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">genre_count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(genre_count_by_decade_no_comedy, <span class="fu">aes</span>(<span class="at">x =</span> decade, <span class="at">y =</span> genre_count, <span class="at">fill =</span> genres)) <span class="sc">+</span></span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span> </span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Percentage"</span>, <span class="at">x =</span> <span class="st">"Decade"</span>, <span class="at">fill =</span> <span class="st">"Genres"</span>, <span class="at">title =</span> <span class="st">"Genre Popularity by Decade"</span>, <span class="at">subtitle =</span> <span class="st">"Without Independent films or Comedy or Drama"</span>) <span class="sc">+</span></span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),           </span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>wages <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/mp02/wages.csv"</span>)</span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a>wages<span class="sc">$</span>Men <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, wages<span class="sc">$</span>Men))</span>
<span id="cb16-68"><a href="#cb16-68" aria-hidden="true" tabindex="-1"></a>wages<span class="sc">$</span>Women <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, wages<span class="sc">$</span>Women))</span>
<span id="cb16-69"><a href="#cb16-69" aria-hidden="true" tabindex="-1"></a>wages <span class="ot">&lt;-</span> wages[<span class="sc">-</span><span class="fu">nrow</span>(wages), ]</span>
<span id="cb16-70"><a href="#cb16-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-71"><a href="#cb16-71" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wages, <span class="fu">aes</span>(<span class="at">x=</span>X)) <span class="sc">+</span></span>
<span id="cb16-72"><a href="#cb16-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Women, <span class="at">color =</span> <span class="st">"Women"</span>), <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb16-73"><a href="#cb16-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Men, <span class="at">color =</span> <span class="st">"Men"</span>), <span class="at">linetype =</span> <span class="st">"twodash"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb16-74"><a href="#cb16-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">y =</span> Women), <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color=</span><span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb16-75"><a href="#cb16-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">y =</span> Men), <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color=</span><span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb16-76"><a href="#cb16-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Weekly Wages"</span>, <span class="at">x =</span> <span class="st">"Decade"</span>, <span class="at">title =</span> <span class="st">"40 Year Trend in Wages by Gender"</span>, <span class="at">color=</span><span class="st">"Gender"</span>) <span class="sc">+</span></span>
<span id="cb16-77"><a href="#cb16-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">dollar_format</span>()) <span class="sc">+</span> </span>
<span id="cb16-78"><a href="#cb16-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb16-79"><a href="#cb16-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) </span>
<span id="cb16-80"><a href="#cb16-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-81"><a href="#cb16-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-82"><a href="#cb16-82" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;!--</span> genre_count_by_decade_no_comedy <span class="sc">|&gt;</span> finish <span class="cf">for</span> romance trend <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb16-83"><a href="#cb16-83" aria-hidden="true" tabindex="-1"></a>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<p>Here is an image detailing gender disparities in Hollywood.</p>
<p><img src="images/mp-02/movie_count_film_score_gender.jpeg" class="img-fluid"></p>
<p>Here is me looking for actors who have been in prominent films. The top 2 look like a great choice!</p>
<table class="table-striped table-hover caption-top table">
<caption>Table: Actors and Actresses by Age and Movie Count</caption>
<thead>
<tr class="header">
<th>Primary Name</th>
<th>Category</th>
<th>Age</th>
<th>Movie Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Scarlett Johansson</td>
<td>Actress</td>
<td>40</td>
<td>35</td>
</tr>
<tr class="even">
<td>Jake Gyllenhaal</td>
<td>Actor</td>
<td>44</td>
<td>23</td>
</tr>
<tr class="odd">
<td>Chris Evans</td>
<td>Actor</td>
<td>43</td>
<td>20</td>
</tr>
<tr class="even">
<td>Seth Rogen</td>
<td>Actor</td>
<td>42</td>
<td>17</td>
</tr>
<tr class="odd">
<td>Chris Hemsworth</td>
<td>Actor</td>
<td>41</td>
<td>16</td>
</tr>
<tr class="even">
<td>Emma Stone</td>
<td>Actress</td>
<td>36</td>
<td>16</td>
</tr>
<tr class="odd">
<td>Natalie Portman</td>
<td>Actress</td>
<td>43</td>
<td>15</td>
</tr>
<tr class="even">
<td>Chris Pratt</td>
<td>Actor</td>
<td>45</td>
<td>15</td>
</tr>
<tr class="odd">
<td>Rajkummar Rao</td>
<td>Actor</td>
<td>40</td>
<td>15</td>
</tr>
<tr class="even">
<td>Kirsten Dunst</td>
<td>Actress</td>
<td>42</td>
<td>14</td>
</tr>
</tbody>
</table>
<p>Top Women Directors:</p>
<table class="table-striped table-hover caption-top table">
<caption>Table: Top Women Directors by Movie Count</caption>
<thead>
<tr class="header">
<th>Primary Name</th>
<th>Category</th>
<th>Age</th>
<th>Movie Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Lilly Wachowski</td>
<td>Director</td>
<td>57</td>
<td>5</td>
</tr>
<tr class="even">
<td>Lana Wachowski</td>
<td>Director</td>
<td>59</td>
<td>5</td>
</tr>
<tr class="odd">
<td>Zoya Akhtar</td>
<td>Director</td>
<td>52</td>
<td>2</td>
</tr>
<tr class="even">
<td>Joan Chen</td>
<td>Director</td>
<td>63</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Gail Mancuso</td>
<td>Director</td>
<td>66</td>
<td>1</td>
</tr>
<tr class="even">
<td>Mary Elizabeth McGlynn</td>
<td>Director</td>
<td>58</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Jessie Nelson</td>
<td>Director</td>
<td>NA</td>
<td>1</td>
</tr>
<tr class="even">
<td>Maria Schrader</td>
<td>Director</td>
<td>59</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Reema Kagti</td>
<td>Director</td>
<td>NA</td>
<td>1</td>
</tr>
<tr class="even">
<td>Olivia Wilde</td>
<td>Director</td>
<td>40</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Jordan Peele looks like a great choice…</p>
<table class="table-striped table-hover caption-top table">
<caption>Table: Directors by Age and Movie Count</caption>
<thead>
<tr class="header">
<th>Primary Name</th>
<th>Category</th>
<th>Age</th>
<th>Movie Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Benny Safdie</td>
<td>Director</td>
<td>38</td>
<td>2</td>
</tr>
<tr class="even">
<td>John Francis Daley</td>
<td>Director</td>
<td>39</td>
<td>2</td>
</tr>
<tr class="odd">
<td>Olivia Wilde</td>
<td>Director</td>
<td>40</td>
<td>1</td>
</tr>
<tr class="even">
<td>Seth Rogen</td>
<td>Director</td>
<td>42</td>
<td>2</td>
</tr>
<tr class="odd">
<td>Evan Goldberg</td>
<td>Director</td>
<td>42</td>
<td>2</td>
</tr>
<tr class="even">
<td>Joseph Gordon-Levitt</td>
<td>Director</td>
<td>43</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Fran Kranz</td>
<td>Director</td>
<td>43</td>
<td>1</td>
</tr>
<tr class="even">
<td>Jordan Peele</td>
<td>Director</td>
<td>45</td>
<td>3</td>
</tr>
<tr class="odd">
<td>John Krasinski</td>
<td>Director</td>
<td>45</td>
<td>2</td>
</tr>
<tr class="even">
<td>Mert Baykal</td>
<td>Director</td>
<td>45</td>
<td>1</td>
</tr>
</tbody>
</table>
<details>
<summary>
&gt; show the code
</summary>
<div class="sourceCode" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>top_movies <span class="ot">&lt;-</span> films_scores <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(film_score <span class="sc">&gt;</span> <span class="fl">77.46</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>talent <span class="ot">&lt;-</span> TITLE_PRINCIPALS <span class="sc">|&gt;</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tconst <span class="sc">%in%</span> top_movies<span class="sc">$</span>tconst, category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"actor"</span>, <span class="st">"actress"</span>, <span class="st">"director"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(names_in_many_big_productions, <span class="at">by =</span> <span class="st">"nconst"</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(films_scores, <span class="at">by =</span> <span class="st">"tconst"</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nconst, primaryName, category, age) <span class="sc">|&gt;</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">movie_count =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(movie_count))</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>talent_again <span class="ot">&lt;-</span> TITLE_PRINCIPALS <span class="sc">|&gt;</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tconst <span class="sc">%in%</span> top_movies<span class="sc">$</span>tconst, category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"actor"</span>, <span class="st">"actress"</span>, <span class="st">"director"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(names_in_many_big_productions, <span class="at">by =</span> <span class="st">"nconst"</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(films_scores, <span class="at">by =</span> <span class="st">"tconst"</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nconst, primaryName, category, age) <span class="sc">|&gt;</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">movie_count =</span> <span class="fu">n</span>(), <span class="at">mean_film_score =</span> <span class="fu">mean</span>(film_score, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(movie_count))</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>top_actors <span class="ot">&lt;-</span> talent_again <span class="sc">|&gt;</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"actor"</span>, <span class="st">"actress"</span>), age <span class="sc">&gt;=</span> <span class="dv">20</span> <span class="sc">&amp;</span> age <span class="sc">&lt;=</span> <span class="dv">45</span> <span class="sc">&amp;</span> movie_count <span class="sc">&gt;</span> <span class="dv">4</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean_film_score))</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>actors_summary <span class="ot">&lt;-</span> top_actors <span class="sc">|&gt;</span> </span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(category) <span class="sc">|&gt;</span> </span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_movie =</span> <span class="fu">sum</span>(movie_count), <span class="at">number_of_performers =</span> <span class="fu">n</span>(), <span class="at">score =</span> <span class="fu">mean</span>(mean_film_score))</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(top_actors)</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_actors, <span class="fu">aes</span>(<span class="at">x =</span> mean_film_score, <span class="at">fill =</span> category)) <span class="sc">+</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Density of Mean Film Scores by Gender"</span>, <span class="at">x =</span> <span class="st">"Mean Film Score"</span>, <span class="at">y =</span> <span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_actors, <span class="fu">aes</span>(<span class="at">x =</span> movie_count, <span class="at">y =</span> mean_film_score, <span class="at">color =</span> category)) <span class="sc">+</span></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Movie Count vs. Mean Film Score by Gender"</span>, <span class="at">x =</span> <span class="st">"Movie Count"</span>, <span class="at">y =</span> <span class="st">"Mean Film Score"</span>, <span class="at">color =</span> <span class="cn">NULL</span>) <span class="sc">+</span>  </span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) </span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>top_directors <span class="ot">&lt;-</span> talent <span class="sc">|&gt;</span> </span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(category <span class="sc">==</span> <span class="st">"director"</span>) </span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>top_directors <span class="sc">|&gt;</span> </span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(age, <span class="fu">desc</span>(movie_count)) <span class="sc">|&gt;</span></span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<p>Witness jumps out at me here :</p>
<table class="table-striped table-hover caption-top table">
<caption>Table: Films by Year and Film Score</caption>
<thead>
<tr class="header">
<th>Title</th>
<th>Year</th>
<th>Film Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Vertigo</td>
<td>1958</td>
<td>99.68</td>
</tr>
<tr class="even">
<td>The Handmaiden</td>
<td>2016</td>
<td>99.20</td>
</tr>
<tr class="odd">
<td>Match Point</td>
<td>2005</td>
<td>97.93</td>
</tr>
<tr class="even">
<td>Roja</td>
<td>1992</td>
<td>92.96</td>
</tr>
<tr class="odd">
<td>Witness</td>
<td>1985</td>
<td>92.05</td>
</tr>
<tr class="even">
<td>The Wind</td>
<td>1928</td>
<td>91.02</td>
</tr>
<tr class="odd">
<td>Spark: L.I.F.E.</td>
<td>2023</td>
<td>90.81</td>
</tr>
<tr class="even">
<td>A Story from Chikamatsu</td>
<td>1954</td>
<td>90.76</td>
</tr>
<tr class="odd">
<td>To Catch a Thief</td>
<td>1955</td>
<td>89.51</td>
</tr>
<tr class="even">
<td>Vaalee</td>
<td>1999</td>
<td>89.06</td>
</tr>
</tbody>
</table>
<p>Cast Lukas Haas as the villain.</p>
<p><img src="images/mp-02/witness.jpg" class="img-fluid" style="display: block; margin:auto; width:65%"></p>
<details>
<summary>
&gt; show me the code
</summary>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Searching for all Romance Thrillers</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>romance_thrillers <span class="ot">&lt;-</span> TITLE_BASICS <span class="sc">|&gt;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(titleType <span class="sc">==</span> <span class="st">"movie"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"Romance"</span>, genres) <span class="sc">&amp;</span> <span class="fu">grepl</span>(<span class="st">"Thriller"</span>, genres)) <span class="sc">|&gt;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(films_scores, <span class="at">by =</span> <span class="st">"tconst"</span>) <span class="sc">|&gt;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(film_score <span class="sc">&gt;</span> <span class="fl">77.46</span>) <span class="sc">|&gt;</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(primaryTitle.x, startYear.x, film_score) <span class="sc">|&gt;</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(film_score))</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co"># This yields 19 films, lets investigate them</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(romance_thrillers, <span class="dv">19</span>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Has Witness been remade? </span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>witness_films <span class="ot">&lt;-</span> TITLE_BASICS <span class="sc">|&gt;</span> </span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(titleType <span class="sc">==</span> <span class="st">"movie"</span> <span class="sc">&amp;</span> primaryTitle <span class="sc">==</span> <span class="st">"Witness"</span> ) </span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="co"># There is another Witness in the dataset, but it's an unrelated film from India</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(witness_films) </span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<!-- ##  -->
<!-- polarizing_films \<- movie_lens_and_IMDb \|\> group_by(IMDbId, -->
<!-- primaryTitle, startYear, genres) \|\> summarise(mean_rating = -->
<!-- mean(rating), sd_rating = sd(rating), num_ratings = n()) \|\> -->
<!-- arrange(desc(sd_rating)) \|\> select(-IMDbId) -->
<!-- polarizing_films -->
<!-- polarizing_films \<- movie_lens_and_IMDb \|\> group_by(movieId, -->
<!-- primaryTitle, startYear, genres) \|\> summarise(mean_rating = -->
<!-- mean(rating), iqr_rating = IQR(rating), num_ratings = n()) \|\> -->
<!-- arrange(desc(iqr_rating)) -->
<!-- polarizing_films \<- movie_lens_and_IMDb \|\> group_by(movieId, -->
<!-- primaryTitle, startYear, genres) \|\> summarise(mean_rating = -->
<!-- mean(rating), var_rating = var(rating), num_ratings = n()) \|\> -->
<!-- arrange(desc(var_rating)) -->
<!-- <!-- KAGGLE -->
<p>–&gt;</p>
<!-- movie_lens_and_IMDb_and_kaggle \<- movie_lens_and_IMDb \|\> -->
<!-- inner_join(KAGGLE_DATA, join_by(tconst == IMDb_id)) -->
<!-- movie_lens_and_IMDb_and_kaggle -->
<!-- get_dollar_adjusted_value \<- function(budget, year){ return (budget \* -->
<!-- cpi_named_vector\[as.character(2024)\]/cpi_named_vector\[as.character(year)\]) -->
<!-- } -->
<!-- votes_budget \<- movie_lens_and_IMDb_and_kaggle \|\> group_by(IMDbId, -->
<!-- primaryTitle, budget, startYear, revenue) \|\> summarize(num_votes = -->
<!-- n()) \|\> mutate(adjusted_budget = get_dollar_adjusted_value(budget, -->
<!-- startYear), adjusted_profit = get_dollar_adjusted_value(revenue, -->
<!-- startYear) - get_dollar_adjusted_value(budget, startYear) ) -->
<!-- model_profit \<- -->
<!-- lm(votes_budget$num_votes ~  votes_budget$adjusted_profit) -->
<!-- reg_line \<- function(x_val, model){ return(coef(model)\[1\] + -->
<!-- coef(model)\[2\] \* x_val) } -->
<!-- votes_budget_profit \<- votes_budget \|\> mutate(popularity_over_profit -->
<!-- = num_votes - reg_line(adjusted_profit, model_profit)) \|\> -->
<!-- arrange(desc(popularity_over_profit)) -->
<!-- <!-- why not working? -->
<p>–&gt;</p>
<!-- ggplot(data = votes_budget_profit, aes(x = adjusted_profit, y = -->
<!-- num_votes )) + geom_point(alpha = 0.1) + geom_smooth(method="lm", -->
<!-- se=FALSE) -->
<!-- model_budget \<- -->
<!-- lm(votes_budget$num_votes ~  votes_budget$adjusted_budget) -->
<!-- votes_budget_budget \<- votes_budget \|\> mutate(popularity_over_budget -->
<!-- = num_votes - reg_line(adjusted_budget, model_profit)) \|\> -->
<!-- arrange(desc(popularity_over_budget)) -->
<!-- print(votes_budget_budget, n =100) -->
<!-- <!-- expensive films -->
<p>–&gt;</p>
<!-- votes_budget \|\> arrange(desc(adjusted_budget)) \|\> print(n = 100) -->
<!-- top_500_polarizing_films \<- head(polarizing_films, 500) -->
<!-- top_500_polarizing_films_w_budget \<- top_500_polarizing_films \|\> -->
<!-- inner_join(KAGGLE_DATA, join_by(IMDbId == IMDb_id)) -->
<!-- top_500_polarizing_films_w_budget -->
</section>
<section id="appendixA" class="level2">
<h2 class="anchored" data-anchor-id="appendixA">Appendix A</h2>
<section id="how-data-was-loaded" class="level3">
<h3 class="anchored" data-anchor-id="how-data-was-loaded">How Data Was Loaded</h3>
<p>In this section, I describe how the data was loaded into the project.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;!--</span> <span class="fu">library</span>(dplyr) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> <span class="fu">library</span>(tidyr) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> <span class="fu">library</span>(stringr) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> <span class="fu">library</span>(lubridate) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> <span class="fu">library</span>(readr) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> DATA_FOLDER <span class="ot">&lt;-</span> <span class="st">"data/mp02/"</span> <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> get_IMDb_file <span class="ot">&lt;-</span> <span class="cf">function</span>(fname){ <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>      <span class="fu">as.data.frame</span>(readr<span class="sc">::</span><span class="fu">read_csv</span>(fname, <span class="at">lazy=</span><span class="cn">FALSE</span>)) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>  } <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> create_file_ext <span class="ot">&lt;-</span> <span class="cf">function</span>(fname){ <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>    <span class="fu">paste0</span>(DATA_FOLDER, fname) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> } <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> <span class="co"># IMDb DATA --&gt;</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> NAME_BASICS <span class="ot">&lt;-</span> <span class="fu">get_IMDb_file</span>(<span class="fu">create_file_ext</span>(<span class="st">"NAME_BASICS.csv"</span>)) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> TITLE_RATINGS <span class="ot">&lt;-</span> <span class="fu">get_IMDb_file</span>(<span class="fu">create_file_ext</span>(<span class="st">"TITLE_RATINGS.csv"</span>)) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> TITLE_BASICS <span class="ot">&lt;-</span> <span class="fu">get_IMDb_file</span>(<span class="fu">create_file_ext</span>(<span class="st">"TITLE_BASICS.csv"</span>)) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> TITLE_CREW <span class="ot">&lt;-</span> <span class="fu">get_IMDb_file</span>(<span class="fu">create_file_ext</span>(<span class="st">"TITLE_CREW.csv"</span>)) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> TITLE_EPISODES <span class="ot">&lt;-</span> <span class="fu">get_IMDb_file</span>(<span class="fu">create_file_ext</span>(<span class="st">"TITLE_EPISODES.csv"</span>)) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> TITLE_PRINCIPALS <span class="ot">&lt;-</span> <span class="fu">get_IMDb_file</span>(<span class="fu">create_file_ext</span>(<span class="st">"TITLE_PRINCIPALS.csv"</span>)) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> NAME_BASICS <span class="ot">&lt;-</span> NAME_BASICS <span class="sc">|&gt;</span> <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>     <span class="fu">mutate</span>(<span class="at">birthYear =</span> <span class="fu">as.numeric</span>(birthYear), <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>            <span class="at">deathYear =</span> <span class="fu">as.numeric</span>(deathYear)) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> TITLE_RATINGS <span class="ot">&lt;-</span> TITLE_RATINGS <span class="sc">|&gt;</span> <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>      <span class="fu">mutate</span>(<span class="at">averageRating =</span> <span class="fu">as.numeric</span>(averageRating), <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>             <span class="at">numVotes =</span> <span class="fu">as.numeric</span>(numVotes)) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> TITLE_BASICS <span class="ot">&lt;-</span> TITLE_BASICS <span class="sc">|&gt;</span> <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>     <span class="fu">mutate</span>(<span class="at">isAdult =</span> <span class="fu">as.logical</span>(isAdult), <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>            <span class="at">runtimeMinutes =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"[^0-9]"</span>, runtimeMinutes), <span class="cn">NA</span>, <span class="fu">as.numeric</span>(runtimeMinutes))) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> <span class="co"># MOVIE LENS --&gt;</span></span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> MOVIE_LENS_RATINGS <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/mp02/ml-32m/ratings.csv"</span>) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> MOVIE_LENS_LINKS <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/mp02/ml-32m/links.csv"</span>) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> movie_lens_ratings_merged <span class="ot">&lt;-</span> MOVIE_LENS_RATINGS <span class="sc">|&gt;</span> <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>    <span class="fu">group_by</span>(movieId) <span class="sc">|&gt;</span> <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>    <span class="fu">summarize</span>(<span class="at">count_reviews =</span> <span class="fu">n</span>()) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> <span class="co"># KAGGLE --&gt;</span></span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> KAGGLE_DATA <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/mp02/KAGGLE_DATA.csv"</span>) <span class="sc">|&gt;</span> <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>    <span class="fu">mutate</span>(<span class="at">budget =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(budget), <span class="dv">0</span>, <span class="fu">parse_number</span>(budget))) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> <span class="co"># CPI --&gt;</span></span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> HISTORICAL_CPI <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/mp02/HISTORICAL_CPI.csv"</span>) <span class="sc">|&gt;</span> <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span>    <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">substring</span>(DATE,<span class="dv">1</span>,<span class="dv">4</span>)) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span><span class="sc">!--</span> cpi_named_vector <span class="ot">&lt;-</span> <span class="fu">setNames</span>(HISTORICAL_CPI<span class="sc">$</span>CPIAUCNS, HISTORICAL_CPI<span class="sc">$</span>year) <span class="sc">-</span><span class="ot">-&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>head(names_in_many_big_productions) <!-- quantile(movies_with_ratings_merged$count_reviews, probs=seq(0,1, by = 0.025)) --> <!-- 95% of reviews have 1000 reviews or less... --></p>
<!-- max(movies_with_ratings_merged$movieId) -->
<!-- 292757 -->
<!-- MOVIE LENS -->
<!-- movies_meeting_review_threshold \<- movies_lens_ratings_merged \|\> -->
<!-- filter(count_reviews \>= 1000) \|\> pull(movieId) -->
<!-- filtered_reviews \<- MOVIE_LENS_RATINGS \|\> filter(movieId %in% -->
<!-- movies_meeting_review_threshold) -->
<!-- movie_lens\_\_IMDb \<- filtered_reviews \|\> -->
<!-- inner_join(MOVIE_LENS_LINKS, by = "movieId") -->
<details>
<summary>
&gt; show the code
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>hello <span class="ot">&lt;-</span> <span class="st">"hello"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<!-- <!-- number of movies -->
<p>–&gt;</p>
<!-- When we say "movie" we often think of "what is opening this Friday" and -->
<!-- with it: "what film will win the weekend box office?" -->
<!-- If we look at the Kaggle Movie Dataset, we see -->
<!-- quantile(KAGGLE_DATA\$revenue, probs = seq(0,1,.05), na.rm=TRUE) -->
<!-- ![](images/mp-02/1_media_types_counts.jpeg){style="width:75%; box-shadow: -1px 1px 2px rgba(0, 0, 0, 0.5); display: block; margin: auto;"} -->
<!-- Seminal podcaster Bill Simmon’s (a man [paid 200 million dollars to -->
<!-- podcast](https://variety.com/2020/digital/news/spotify-acquires-the-ringer-196-million-cash-bill-simmons-1203502471/)) -->
<!-- has argued on his #1 film podcast [The -->
<!-- Re-Watchables](https://www.theringer.com/the-rewatchables) that the -->
<!-- Oscars should be awarded 5 years after a film’s release. Time-and-time -->
<!-- again, the Academy of Motion Picture and Science awards its most -->
<!-- prestigious award to a questionable film that years after leaves -->
<!-- audiences scratching their heads over the decision. This is likely due -->
<!-- to the impossibilty of fully evaluating a work of art until time finally -->
<!-- settles and properly establishes a film's legacy. All-too-often: -->
<!-- out-sized marketing budgets, capricious cultural fads or unrecognized -->
<!-- behind-the-camera politics are what grants a film the industry's most -->
<!-- coveted honor. -->
<!-- Do the Right Thing (1989), Saving Private Ryan (1997), Brokeback -->
<!-- Mountain (2005) and The Social Network (2010) are all classic examples -->
<!-- of the essential films of their respective years, egregiously -->
<!-- unrecognized by the academy. -->
<!-- Thus, Simmons argues we should establish "The 5 Year Oscars." The awards -->
<!-- should not be awarded until 5 years prior to a film's initial release. -->
<!-- (Television netowrk ABC, longtime broadcast home to the Oscars -->
<!-- broadcast, would likely not be thrilled with the decision to not embrace -->
<!-- movie-stars-of-the-moment in the ceremony.) -->
<!-- I'd like to extend this analysis to all films. If we ignore all film -->
<!-- reviews for a 5 year window, will we be left be able to recongize a -->
<!-- higher caliber or higher quality film? If we were to put film reviews -->
<!-- into a "5 year freezer", will it impact their rankings and perception? -->
<!-- Most importantly, will it hurt the score of objectively terrible movie -->
<!-- Crash (2005)? -->
<!-- This analysis is not possible with just IMDb data. For this analysis I -->
<!-- will need to bring in the data from review site [Movie -->
<!-- Lens](https://grouplens.org/datasets/movielens/). -->
<p>Movie Lens offers a record for every review from each contributors - all with a time-stamp for when the review was submitted. Movie Lens first review was issued in <code>1995</code>. Thus, we can only properly evaluate films from <code>2000 - 2019</code> (5 years after <code>1995</code> and 5 years prior to <code>2024</code>) <!-- make sure TITLE_BASICS and working movie_lens data_set have similar IMDb IDs --></p>
<p>title_basics_imdb_id &lt;- TITLE_BASICS |&gt; mutate(IMDbId = as.integer(substring(tconst, 3)), startYear = as.numeric(startYear)) |&gt; filter(startYear &gt;= 1995 &amp; startYear &lt;= 2019) |&gt; select(-runtimeMinutes, -isAdult, -titleType, -originalTitle, -endYear)</p>
<p>movie_lens_merge_imdb &lt;- title_basics_imdb_id |&gt; inner_join(MOVIE_LENS_RATINGS, by = c(“IMDbId” = “movieId”)) |&gt; mutate(yearReview = year(as.POSIXct(timestamp, origin=“1970-01-01”)))</p>
<p>five_year_reviews_after &lt;- movie_lens_merge_imdb |&gt; filter((yearReview - startYear) &gt;= 5) |&gt; group_by(tconst) |&gt; summarize(after_5_year_score = mean(rating))</p>
<p>head(five_year_reviews_after)</p>
<p>five_year_reviews_before &lt;- movie_lens_imdb_filtered |&gt; filter(yearReview - startYear &lt; 5) |&gt; group_by(tconst) |&gt; summarize(before_5_year_score = mean(rating))</p>
<p>head(movie_lens_imdb_filtered, 100)</p>
<p>movie_lens__IMDb &lt;- filtered_reviews |&gt; inner_join(MOVIE_LENS_LINKS, by = “movieId”)</p>
<p>head(title_basics_movie_lens_id)<br>
<!-- merge the two data sets, make sure to create a year for when the review was posted

movie_lens_and_IMDb \<- title_basics_movie_lens_id \|\>
inner_join(movie_lens_filtered_reviews_IMDb, by = "IMDbId") \|\>
select(-isAdult, -endYear, -runtimeMinutes, -tmdbId, -titleType) \|\>
mutate(yearReview = year(as.POSIXct(timestamp, origin="1970-01-01")))

<!-- now take out all reviews that were  --></p>
<p>movie_lens_and_IMDb_5_year_reviews &lt;- movie_lens_and_IMDb |&gt; filter(yearReview - startYear &gt;= 5) |&gt; group_by(IMDbId, primaryTitle, startYear) |&gt; summarize(avg_review = mean(rating)) |&gt; arrange(desc(avg_review))</p>
<p>print(movie_lens_and_IMDb_5_year_reviews, n=50)</p>
<p>movie_lens_and_IMDb_year_review &lt;- movie_lens_and_IMDb |&gt; group_by(IMDbId, primaryTitle, startYear) |&gt; summarize(avg_review = mean(rating)) |&gt; arrange(desc(avg_review))</p>
<p>print(movie_lens_and_IMDb_year_review, n = 50)</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/jasonamey\.github\.io\/STA9750-2024-FALL\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>