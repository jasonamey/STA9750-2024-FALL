<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>mp03 – STA 9750 Fall 2024 - Jason Amey</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-07ba0ad10f5680c660e360ac31d2f3b6.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-6a549a5e0532b7ec267537b390b66fc6.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="shortcut icon" href="images/favicon.ico">


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 Fall 2024 - Jason Amey</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<style>
.flexbox-grid {
  display: grid !important;
  grid-template-columns: repeat(1, 1fr) !important; /* Two columns for a 2x2 grid */
  gap: 10px !important; /* Space between images */
}

.flexbox-grid img {
  width: 100% !important; /* Ensure images fill their grid cells */
  max-width: 100% !important; /* Control max image size */
}
</style>
<section id="the-electoral-college-dilemma-tradition-tension-and-the-future-of-american-democracy" class="level1">
<h1>The Electoral College Dilemma: Tradition, Tension, and the Future of American Democracy</h1>
<p><em>by Jason Amey</em></p>
<p>The <strong>Electoral College</strong> is one of the most misunderstood components of the American political system. Rooted in the Constitutional principle of federalism, the <strong>Electoral College</strong> is designed to balance power by ensuring that both individual states and the overall population have a voice in electing the nation’s leader.</p>
<p>This approach emphasizes the importance of state sovereignty, reflecting the framers’ intent to respect the rights and influence of each state within a diverse and expansive union. This system requires presidential candidates to seek support across a wide geographic range, ensuring that the voices of smaller or less populous states are not dominated by larger population centers.</p>
<p>Recently the <strong>Electoral College</strong> has become an increasingly contentious, particularly as modern elections have seen candidates win the presidency without winning the popular vote. This disconnect in recent years has raised questions about the system’s fairness and the extent to which it reflects the will of the people.</p>
<p>For many American voters, it remains unjust that a candidate who secures the majority of votes nationally can still lose the presidency. This reality has engendered disenfranchisement among voters who feel their voices are increasingly insignificant in choosing a President.</p>
<p>A segment of this disenchantment stems from the difficulty in changing our constitutional system. Changing the <strong>Electoral College</strong> is a complex task, not only because it would require a constitutional amendment, but also because many constituencies currently benefit from this arrangement. States that hold a disproportionate influence under the <strong>Electoral College</strong> system are unlikely to support a departure from the <strong>Electoral College</strong> beacuse it would reduce their electoral power and political significance.</p>
<p>Amending the Constitution demands broad consensus—a nearly impossible level of national agreement that is exceedingly rare in today’s polarized political climate. Thus, while many Americans express a desire to reform or eliminate the <strong>Electoral College</strong>, the practical and political barriers to doing so are aguably insurmountable.</p>
<p>The ongoing use of the <strong>Electoral College</strong>, despite its oft-misalignment with the popular vote, presents a significant challenge to the perceived responsiveness of elected leaders to the public’s democratic wishes. When candidates who do not enjoy the majority’s support are elevated to the presidency, it can strain the public’s trust in our political system. This tension between majority rule and the structure of the <strong>Electoral College</strong> poses serious questions for the future of American democracy, as it risks diminishing the public’s faith in the electoral process and the legitimacy of its political leaders.</p>
<hr>
<p>To explore the dynamics of the Electoral College, a data analysis was conducted using electoral data from the <strong>MIT Election Data and Science Lab</strong>, which provides detailed voting records across <strong>U.S. House</strong> elections from <code>1976</code> to <code>2022</code>.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> This dataset offers insights into historical voting patterns and party performance at the district level, essential for understanding shifts in electoral influence over time. This data was with congressional shapefiles from <strong>UCLA’s PoliSci Mapping Center</strong><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> and the <strong>U.S. Census Bureau</strong>’s <strong>TIGER/Line</strong> files.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> These resources enable a comprehensive analysis of the <strong>Electoral</strong> College system, highlighting shifts in population and the impact districting commands over electoral outcomes.</p>
<p>This project uses packages <code>readr</code>, <code>dplyr</code>, <code>tidy</code>, <code>ggplot2</code>, <code>sf</code>, <code>stringr</code>, <code>statebins</code>, <code>scales</code>,<code>maps</code></p>
<details>
<summary>
&gt; show the code for data preparation
</summary>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statebins)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Sourced data</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>ELECTION_DATA_HOUSE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/mp03/dataversefiles/1976-2022-house.csv"</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>ELECTION_DATA_HOUSE <span class="ot">&lt;-</span> ELECTION_DATA_HOUSE <span class="sc">|&gt;</span> </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(party))</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>ELECTION_DATA_PRESIDENT <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/mp03/dataversefiles/1976-2020-president.csv"</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>ELECTION_DATA_PRESIDENT <span class="ot">&lt;-</span> ELECTION_DATA_PRESIDENT <span class="sc">|&gt;</span> </span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(candidate) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(party_detailed))</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to download shapefiles UCLA’s PoliSci Mapping Center, 95 to </span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 112 representsrelevant Congressional Sessions</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>congress_shapefiles_ucla <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">start =</span> <span class="dv">95</span>, <span class="at">end =</span> <span class="dv">112</span>) {</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  BASE_URL <span class="ot">&lt;-</span> <span class="st">"https://cdmaps.polisci.ucla.edu/shp/districts"</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">dir.exists</span>(<span class="st">"data/mp03/congress_shapefiles"</span>)) {</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dir.create</span>(<span class="st">"data/mp03/congress_shapefiles"</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (congress <span class="cf">in</span> start<span class="sc">:</span>end) {</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Requires leading zeros</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    congress_str <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(<span class="st">"%03d"</span>, congress)</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    file_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(BASE_URL, congress_str, <span class="st">".zip"</span>)</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    dest_file <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"data/mp03/congress_shapefiles/congress_"</span>, congress_str, <span class="st">"_shapefile.zip"</span>)</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Prevent re-downloading</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(dest_file)) {</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tryCatch</span>({</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>        <span class="fu">download.file</span>(file_url, <span class="at">destfile =</span> dest_file, <span class="at">mode =</span> <span class="st">"wb"</span>)</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>        <span class="fu">message</span>(<span class="st">"Downloaded shapefile for Congress "</span>, congress_str)</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>      }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>        <span class="fu">message</span>(<span class="st">"Failed to download for Congress "</span>, congress_str, <span class="st">": "</span>, e)</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>      })</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="st">"File for Congress "</span>, congress_str, <span class="st">" already exists. Skipping download."</span>)</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Run function</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="fu">congress_shapefiles_ucla</span>()</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to download shapefiles from the U.S. Census Bureau’s TIGER/Line Shapefiles </span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>congress_shapefiles_census <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">start_year =</span> <span class="dv">2013</span>, <span class="at">end_year =</span> <span class="dv">2023</span>) {</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>  BASE_URL <span class="ot">&lt;-</span> <span class="st">"https://www2.census.gov/geo/tiger/TIGER"</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create the download directory if it doesn’t exist</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">dir.exists</span>(<span class="st">"data/mp03/census_congress_shapefiles"</span>)) {</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dir.create</span>(<span class="st">"data/census_congress_shapefiles"</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Determine Congress numbers based on years</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>  congress_numbers <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">113</span>, <span class="dv">113</span> <span class="sc">+</span> (end_year <span class="sc">-</span> start_year) <span class="sc">/</span> <span class="dv">2</span>, <span class="at">by =</span> <span class="dv">1</span>)</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>  years <span class="ot">&lt;-</span> <span class="fu">seq</span>(start_year, end_year, <span class="at">by =</span> <span class="dv">2</span>) </span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(years)) {</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>    year <span class="ot">&lt;-</span> years[i]</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>    congress <span class="ot">&lt;-</span> congress_numbers[i]</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Format as 'cd113', 'cd114', etc.</span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>    congress_str <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(<span class="st">"cd%d"</span>, congress)  </span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>    file_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(BASE_URL, year, <span class="st">"/CD/tl_"</span>, year, <span class="st">"_us_"</span>, congress_str, <span class="st">".zip"</span>)</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>    dest_file <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"data/mp03/census_congress_shapefiles/tl_"</span>, year, <span class="st">"_us_"</span>, congress_str, <span class="st">".zip"</span>)</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Prevent re-downloading</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(dest_file)) {</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tryCatch</span>({</span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>        <span class="fu">download.file</span>(file_url, <span class="at">destfile =</span> dest_file, <span class="at">mode =</span> <span class="st">"wb"</span>)</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>(<span class="st">"Downloaded shapefile for "</span>, congress_str, <span class="st">" (Year "</span>, year, <span class="st">")"</span>)</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>      }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>(<span class="st">"Failed to download for "</span>, congress_str, <span class="st">" (Year "</span>, year, <span class="st">"): "</span>, e)</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>      })</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="st">"File for "</span>, congress_str, <span class="st">" (Year "</span>, year, <span class="st">") already exists. Skipping download."</span>)</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a><span class="co">#Run function</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a><span class="fu">congress_shapefiles_census</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<section id="how-has-the-electoral-college-changed-since-1976" class="level2">
<h2 class="anchored" data-anchor-id="how-has-the-electoral-college-changed-since-1976">How has the Electoral College changed since 1976?</h2>
<p>The past <code>40</code> years have seen dramatic demographic and economic shifts in the <strong>United States</strong>, with the “<strong>Sunbelt</strong>” region experiencing significant population growth. Factors such as warm climates, a lower cost of living and growing job opportunities have all contributed to this population transformation. Cities like <strong>Phoenix</strong>, <strong>Dallas</strong>, <strong>Houston</strong>, and <strong>Atlanta</strong> have expanded rapidly, becoming economic powerhouses that attract internal migration.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> This trend has boosted the political influence of the <strong>Sunbelt</strong> states, particularly in presidential elections, as their share of the <strong>Electoral College</strong> votes has grown in proportion to their population increases.</p>
<p>In contrast, the <strong>Northeast</strong> and <strong>Rust Belt</strong> states have faced steady population declines. The <strong>Rust Belt</strong> continues to grapple with the economic fallout from the decline in manufacturing<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>. The <strong>Northeast</strong>, once a densely populated region driving much of the nation’s political power, has also seen a slower growth rate due to higher costs of living and an unwelcome, cooler climate. States like <strong>New York</strong>, <strong>Ohio</strong>, <strong>Pennsylvania</strong>, and <strong>Michigan</strong> have all lost congressional seats<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>—and, by extension, <strong>Electoral College</strong> votes—in the face of a southward shift in national demographics.</p>
<p>The impact on the <strong>Electoral College</strong> reflects these changes, as the Sunbelt’s increasing population has translated into greater political clout. Every ten years, the <strong>U.S. Census</strong> triggers a reapportionment of congressional seats, redistributing the <code>435</code> seats in the <strong>House of Representatives</strong>—and thus <strong>Electoral College</strong> votes—based on population changes.</p>
<p>This dynamic remains topical as commentary last-week immediately following <strong>Donald Trump</strong>’s significant electoral victory led a popular Conservative commentator to remark on the conintued diminished influence of both the <strong>Rust Belt</strong> and the American <strong>North East</strong>, and its traditional bases of power among the <strong>Democratic Party</strong><a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>:</p>
<p><img src="images/mp-03/ben-shapiro.png" class="img-fluid" style="width:50%; box-shadow: -2px 3px 3px rgba(0, 0, 0, 0.5); display: block; margin: auto;"></p>
<p><br></p>
<p><strong>What are the states to lose the most Electoral College votes since 1976?</strong></p>
<table class="table-striped table-hover caption-top table">
<caption>Electoral Vote Losses By State (1976 vs.&nbsp;2022) </caption>
<thead>
<tr class="header">
<th>State</th>
<th>1976</th>
<th>2022</th>
<th>Change</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>New York</td>
<td>41</td>
<td>28</td>
<td>-13</td>
</tr>
<tr class="even">
<td>Ohio</td>
<td>25</td>
<td>17</td>
<td>-8</td>
</tr>
<tr class="odd">
<td>Pennsylvania</td>
<td>27</td>
<td>19</td>
<td>-8</td>
</tr>
<tr class="even">
<td>Illinois</td>
<td>26</td>
<td>19</td>
<td>-7</td>
</tr>
<tr class="odd">
<td>Michigan</td>
<td>21</td>
<td>15</td>
<td>-6</td>
</tr>
</tbody>
</table>
<p><br> <br> <strong>What are the states to gain the most Electoral College votes since 1976?</strong></p>
<table class="table-striped table-hover caption-top table">
<caption>Electoral Vote Growth By State (1976 vs.&nbsp;2022) </caption>
<thead>
<tr class="header">
<th>State</th>
<th>1976</th>
<th>2022</th>
<th>Change</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Texas</td>
<td>26</td>
<td>40</td>
<td>14</td>
</tr>
<tr class="even">
<td>Florida</td>
<td>17</td>
<td>30</td>
<td>13</td>
</tr>
<tr class="odd">
<td>California</td>
<td>45</td>
<td>54</td>
<td>9</td>
</tr>
<tr class="even">
<td>Arizona</td>
<td>6</td>
<td>11</td>
<td>5</td>
</tr>
<tr class="odd">
<td>Georgia</td>
<td>12</td>
<td>16</td>
<td>4</td>
</tr>
</tbody>
</table>
<p><img src="images/mp-03/heatmap.png" class="img-fluid" style="width:100%; display: block; margin: auto;"> <br> Despite the <strong>Sunbelt</strong>’s rising population and the corresponding increase in <strong>Electoral College</strong> votes, a paradox exists: many of these rapidly growing Sunbelt states lack the political clout associated with “<strong>swing states</strong>.”<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a></p>
<p>In the <strong>Electoral College</strong>, political influence often hinges not only on a state’s population, but on its competitiveness in presidential elections. States like <strong>Texas</strong> and <strong>Florida</strong>, though gaining in electoral votes, are often reliably partisan (both are heavily <strong>Republican</strong>), which can diminish the attention they receive compared to smaller yet more unpredictable states like <strong>Pennsylvania</strong> or <strong>Wisconsin</strong>.</p>
This “<strong>swing state</strong>” phenomenon means that candidates prioritize states with narrower margins, where votes are likelier to tip the election, giving smaller, competitive states a unique power in the electoral process that even populous states in the <strong>Sunbelt</strong> do not always share.
<details>
<summary>
&gt;show the code
</summary>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Get data for 1976 and 2022</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>electoral_votes_76_22 <span class="ot">&lt;-</span> ELECTION_DATA_HOUSE <span class="sc">|&gt;</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">1976</span> <span class="sc">|</span> year <span class="sc">==</span> <span class="dv">2022</span> ) <span class="sc">|&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state) <span class="sc">|&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">votes =</span> <span class="fu">n_distinct</span>(district) <span class="sc">+</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> votes) <span class="sc">|&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">change =</span> <span class="st">`</span><span class="at">2022</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">1976</span><span class="st">`</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># View states that have lost the most seats</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>vote_data <span class="ot">&lt;-</span> electoral_votes_76_22 <span class="sc">|&gt;</span> </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(change)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># View states that have gained the most seats</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>electoral_votes_76_22 <span class="sc">|&gt;</span> </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(change))</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare map data and convert state names to match your data</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>us_states <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">"state"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">region =</span> <span class="fu">toupper</span>(region))</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Join map data with your data on state names</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>map_data_combined <span class="ot">&lt;-</span> us_states <span class="sc">|&gt;</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(vote_data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"region"</span> <span class="ot">=</span> <span class="st">"state"</span>))</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the heatmap</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(map_data_combined, <span class="fu">aes</span>(long, lat, <span class="at">group =</span> group, <span class="at">fill =</span> change)) <span class="sc">+</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span> </span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">"blue"</span>, <span class="at">mid =</span> <span class="st">"gray"</span>, <span class="at">high =</span> <span class="st">"red"</span>, <span class="at">midpoint =</span> <span class="dv">0</span>, </span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>                       <span class="at">name =</span> <span class="st">"Change in Seats"</span>) <span class="sc">+</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="fl">1.3</span>) <span class="sc">+</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Change in Congressional Seats (1976 to 2022)"</span>, </span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Positive values indicate gain in seats; negative values indicate loss"</span>) <span class="sc">+</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),   </span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_blank</span>()</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
<section id="the-fusion-phenomenon" class="level2">
<h2 class="anchored" data-anchor-id="the-fusion-phenomenon">The Fusion Phenomenon</h2>
<p><strong>Fusion voting</strong>, also known as cross-endorsement, is an electoral practice that allows a candidate to appear on the ballot under multiple party lines, thereby consolidating votes from different political bases. This approach enables third parties to endorse a major-party candidate, allowing voters to support a candidate’s platform through the values or policies associated with a smaller, often more ideologically-focused party. In practice, fusion voting can increase a candidate’s visibility while empowering smaller parties to influence major-party agendas.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
<p>In <strong>New York City</strong>, fusion voting originally began in the <code>1930</code>’s as a strategy to challenge <strong>Tammany Hall</strong>. Since then, many fusion-enabled parties have become important fixtures in <strong>New York</strong> area politics. For one, <strong>The Working Families Party</strong> has frequently endorsed progressive Democratic candidates while giving voters an alternative way to support candidates who align with specific labor and social equity issues. Likewise, <strong>The Conservative Party</strong> line gives voters a direct voice to amplify their commitment to limited government and social conservatism. All told, the fusion approach has been unique in <strong>New York City</strong>’s local elections, shaping policy conversations and reinforcing the presence of alternative political values within a largely two-party system.<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a></p>
<table class="table-small table-striped table-hover caption-top table">
<caption>Fusion Findings for NY Elections</caption>
<colgroup>
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 12%">
<col style="width: 26%">
<col style="width: 12%">
<col style="width: 22%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th>Year</th>
<th>State</th>
<th>District</th>
<th>Winner</th>
<th>Party</th>
<th>Loser</th>
<th>Party</th>
<th>Highest %</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1980</td>
<td>NY</td>
<td>3</td>
<td>Gregory W Carman</td>
<td>Conservative, Republican</td>
<td>Jerome A Ambro Jr</td>
<td>Democrat, Right To Life</td>
<td><strong>0.429</strong></td>
</tr>
<tr class="even">
<td>1980</td>
<td>NY</td>
<td>6</td>
<td>John LeBoutillier</td>
<td>Conservative, Republican, Right To Life</td>
<td>Lester L Wolff</td>
<td>Democrat, Liberal</td>
<td><strong>0.437</strong></td>
</tr>
<tr class="odd">
<td>1986</td>
<td>NY</td>
<td>27</td>
<td>George C Wortley</td>
<td>Conservative, Republican</td>
<td>Rosemary S Pooler</td>
<td>Democrat, Effective Congress</td>
<td><strong>0.483</strong></td>
</tr>
<tr class="even">
<td>1994</td>
<td>NY</td>
<td>1</td>
<td>Michael P Forbes</td>
<td>Conservative, Republican, Right To Life</td>
<td>George J Hochbrueckner</td>
<td>Democrat, Long Island First</td>
<td><strong>0.428</strong></td>
</tr>
<tr class="odd">
<td>1996</td>
<td>NY</td>
<td>1</td>
<td>Michael P Forbes</td>
<td>Conservative, Independence, Republican, Right To Life</td>
<td>Nora L Bredes</td>
<td>Democrat, Save Medicare</td>
<td><strong>0.398</strong></td>
</tr>
<tr class="even">
<td>1996</td>
<td>NY</td>
<td>30</td>
<td>Jack Quinn</td>
<td>Conservative, Freedom, Independence, Republican</td>
<td>Francis J Pordum</td>
<td>Democrat, Protect Seniors</td>
<td><strong>0.405</strong></td>
</tr>
<tr class="odd">
<td>2006</td>
<td>NY</td>
<td>25</td>
<td>James T Walsh</td>
<td>Conservative, Independence, Republican</td>
<td>Dan Maffei</td>
<td>Democrat, Working Families</td>
<td><strong>0.443</strong></td>
</tr>
<tr class="even">
<td>2006</td>
<td>NY</td>
<td>29</td>
<td>John R “Randy” Kuhl Jr</td>
<td>Conservative, Independence, Republican</td>
<td>Eric J Massa</td>
<td>Democrat, Working Families</td>
<td><strong>0.436</strong></td>
</tr>
<tr class="odd">
<td>2012</td>
<td>NY</td>
<td>27</td>
<td>Chris Collins</td>
<td>Conservative, Republican</td>
<td>Kathleen C Hochul</td>
<td>Democrat, Working Families</td>
<td><strong>0.425</strong></td>
</tr>
<tr class="even">
<td>2018</td>
<td>NY</td>
<td>1</td>
<td>Lee M Zeldin</td>
<td>Conservative, Independence, Reform, Republican</td>
<td>Perry Gershon</td>
<td>Democrat, Working Families</td>
<td><strong>0.460</strong></td>
</tr>
<tr class="odd">
<td>2018</td>
<td>NY</td>
<td>24</td>
<td>John M Katko</td>
<td>Conservative, Independence, Reform, Republican</td>
<td>Dana Balter</td>
<td>Democrat, Women’s Equality, Working Families</td>
<td><strong>0.445</strong></td>
</tr>
<tr class="even">
<td>2018</td>
<td>NY</td>
<td>27</td>
<td>Chris Collins</td>
<td>Conservative, Independence, Republican</td>
<td>Nathan D McMurray</td>
<td>Democrat, Women’s Equality, Working Families</td>
<td><strong>0.449</strong></td>
</tr>
<tr class="odd">
<td>2022</td>
<td>NY</td>
<td>4</td>
<td>Anthony P D’Esposito</td>
<td>Republican, Conservative</td>
<td>Laura A Gillen</td>
<td>Democrat</td>
<td><strong>0.470</strong></td>
</tr>
<tr class="even">
<td>2022</td>
<td>NY</td>
<td>17</td>
<td>Michael V Lawler</td>
<td>Republican, Conservative</td>
<td>Sean Patrick Maloney</td>
<td>Democrat, Working Families</td>
<td><strong>0.458</strong></td>
</tr>
<tr class="odd">
<td>2022</td>
<td>NY</td>
<td>22</td>
<td>Brandon M Williams</td>
<td>Republican, Conservative</td>
<td>Francis Conole</td>
<td>Democrat</td>
<td><strong>0.485</strong></td>
</tr>
</tbody>
</table>
<details>
<summary>
&gt; show the code
</summary>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter House election data for fusion elections, calculate percentages and create unique ID</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>fusion_elections <span class="ot">&lt;-</span> ELECTION_DATA_HOUSE <span class="sc">|&gt;</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fusion_ticket <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage =</span> candidatevotes <span class="sc">/</span> totalvotes, <span class="at">race_id =</span> <span class="fu">paste0</span>(state_po, year, district))</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total winnine percentage</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>winner_percentage <span class="ot">&lt;-</span> fusion_elections <span class="sc">|&gt;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id, candidate) <span class="sc">|&gt;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_vote =</span> <span class="fu">sum</span>(percentage)) <span class="sc">|&gt;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Count races for a given ID and filter out only competitve races</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>winner_percentage <span class="ot">&lt;-</span> winner_percentage <span class="sc">|&gt;</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_count</span>(race_id, <span class="at">name =</span> <span class="st">"race_count"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(race_count <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>race_count)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create boolean for variable name `winner`  </span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>winners_added <span class="ot">&lt;-</span> winner_percentage <span class="sc">|&gt;</span> </span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id) <span class="sc">|&gt;</span> </span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">winner =</span> (total_vote <span class="sc">==</span> <span class="fu">max</span>(total_vote))) <span class="sc">|&gt;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Join datasets</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>fusion_elections <span class="ot">&lt;-</span> fusion_elections <span class="sc">|&gt;</span> </span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(winners_added, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"race_id"</span>, <span class="st">"candidate"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, state, state_po, district, candidate, party, percentage, race_id, total_vote, winner)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify individuals who recieved the highest single percentage, but lost race</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>fusion_election_IDs <span class="ot">&lt;-</span> fusion_elections <span class="sc">|&gt;</span> </span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id) <span class="sc">|&gt;</span> </span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(percentage)) <span class="sc">|&gt;</span> </span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(winner <span class="sc">==</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(race_id)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Recreate dataset with just unique elections with fusion winners (losers)</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>final_data <span class="ot">&lt;-</span> fusion_elections <span class="sc">|&gt;</span> </span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(race_id <span class="sc">%in%</span> fusion_election_IDs <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(party)) </span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify all the candidates and their parties in these unique fusion instances</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> final_data <span class="sc">|&gt;</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state, district) <span class="sc">|&gt;</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">winning_candidate =</span> candidate[winner <span class="sc">==</span> <span class="cn">TRUE</span>],</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">winning_party =</span> <span class="fu">paste</span>(<span class="fu">unique</span>(party[winner <span class="sc">==</span> <span class="cn">TRUE</span>]), <span class="at">collapse =</span> <span class="st">", "</span>),</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">losing_candidate =</span> candidate[<span class="fu">which.max</span>((<span class="sc">!</span>winner) <span class="sc">*</span> percentage)],</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">losing_party =</span> <span class="fu">paste</span>(<span class="fu">unique</span>(party[winner <span class="sc">==</span> <span class="cn">FALSE</span>]), <span class="at">collapse =</span> <span class="st">", "</span>),</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">highest_losing_percentage =</span> <span class="fu">max</span>(percentage[winner <span class="sc">==</span> <span class="cn">FALSE</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Print output for table formatting</span></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result, <span class="at">n =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
<section id="house-vs.-presidential-candidate-support-in-recent-u.s" class="level2">
<h2 class="anchored" data-anchor-id="house-vs.-presidential-candidate-support-in-recent-u.s">House vs.&nbsp;Presidential Candidate Support in Recent U.S</h2>
<p><img src="images/mp-03/party-score.png" class="img-fluid"></p>
<p>These scores represent the standardized differences in voter support between <strong>Democratic</strong> and <strong>Republican</strong> candidates in House versus Presidential elections for each election year. This examination represents whether in a given state and year a party’s House candidates received a higher or lower percentage of votes than the party’s Presidential candidate, indicating voter preferences that may diverge between congressional and national races. The standardized score highlights years with especially strong or weak alignment between House and Presidential support. Positive scores indicate years when House candidates outperformed Presidential candidates, while negative scores suggest the opposite.</p>
</section>
<section id="high-positive-scores-for-democrats-1984-1980-1992" class="level2">
<h2 class="anchored" data-anchor-id="high-positive-scores-for-democrats-1984-1980-1992">High Positive Scores for Democrats (1984, 1980, 1992):</h2>
<p>The <strong>Democratic Party</strong> shows substantial positive discrepancies in years like <code>1984</code>, <code>1980</code>, and <code>1992</code>, suggesting that Democratic House candidates outperformed the Democratic Presidential candidate by a notable margin in these years. <code>1980</code> and <code>1984</code> reflect the transformative political strength of Ronald Reagan, arguably one of the most consequential Presidential figures of the last <code>50</code> years.<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a> In <code>1992</code>, a strong third-party showing by <strong>Ross Perot</strong> may have influenced voting patterns, with many voters possibly splitting their votes between Perot and their local Democratic House Representatives.</p>
</section>
<section id="high-negative-scores-for-republicans-1988-1984-1976" class="level2">
<h2 class="anchored" data-anchor-id="high-negative-scores-for-republicans-1988-1984-1976">High Negative Scores for Republicans (1988, 1984, 1976):</h2>
<p>In <code>1988</code>, <code>1984</code>, and <code>1976</code>, <code>Republicans</code> have significant negative scores, suggesting that in these years, Republican House candidates underperformed relative to the Presidential candidate. This might indicate that the Presidential candidate was particularly appealing, drawing votes that House candidates could not capture as effectively.</p>
<p>This trend suggests that in certain election years, voters may have been inclined toward a Republican President but were more mixed in their support for <strong>Republicans</strong> in the House, as was the case in <code>1988</code> and <code>1984</code> years when the GOP ran strong candidates atop their tickets. The <code>1976</code> results are likely a reflection of broader voter disenchantment with the <strong>Republican Party</strong> post-Watergate in the ensuing years and the need to re-build their national stature among voters.</p>
</section>
<section id="low-discrepancy-years-near-zero-scores" class="level2">
<h2 class="anchored" data-anchor-id="low-discrepancy-years-near-zero-scores">Low Discrepancy Years (Near Zero Scores):</h2>
<p>Years like <code>2004</code> (Democrat), <code>2000</code> (Republican), and <code>2012</code> (Republican) have scores close to zero, indicating minimal discrepancies between the public’s preference for <strong>President</strong> and the <strong>House</strong> within those years. In such years, voter alignment between Presidential and House races was more consistent, reflecting lower levels of split-ticket voting or greater alignment in perceived candidate appeal and party policies across both levels. These years most likely signaled the rise of growing polarization of the American electorate as seen in recent elections.</p>
</section>
<section id="recent-years-20082020" class="level2">
<h2 class="anchored" data-anchor-id="recent-years-20082020">Recent Years (2008–2020):</h2>
<p>In recent years, such as <code>2008</code>, <code>2016</code>, and <code>2020</code>, both parties show relatively low scores, suggesting less discrepancy in voter preferences between the House and Presidential candidates. This trend reflects growing political polarization, with fewer voters splitting their votes across parties. The increased partisan consistency among voters has led to a decline in split-ticket voting, a phenomenon that has been well-documented in studies on electoral polarization.<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a></p>
<details>
<summary>
&gt; show the code
</summary>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove 3rd party candidates from presidential data</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>election_president_r_d <span class="ot">&lt;-</span> ELECTION_DATA_PRESIDENT <span class="sc">|&gt;</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(party_detailed <span class="sc">==</span> <span class="st">"REPUBLICAN"</span> <span class="sc">|</span> party_detailed <span class="sc">==</span> <span class="st">"DEMOCRAT"</span> )</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total votes a presidential candidate received, total vote in race and create unique ID</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>sum_president_votes_r_d <span class="ot">&lt;-</span> election_president_r_d <span class="sc">|&gt;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state, state_po, party_detailed, candidate) <span class="sc">|&gt;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">candidate_votes =</span> <span class="fu">sum</span>(candidatevotes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_votes =</span> <span class="fu">max</span>(totalvotes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)  </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">paste</span>(year, state_po, party_detailed, <span class="at">sep =</span> <span class="st">"_"</span>), <span class="at">pres_percentage =</span> candidate_votes <span class="sc">/</span> total_votes) <span class="sc">|&gt;</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">pres_candidate_votes =</span> candidate_votes, </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">pres_total_votes =</span> total_votes</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Vector for presidential election years</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>PRESIDENTIAL_YEARS <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1976</span>, <span class="dv">2020</span>, <span class="at">by =</span> <span class="dv">4</span>)</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Isolate house races that occured in presidential years and count votes for each state</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>total_votes_per_state <span class="ot">&lt;-</span> ELECTION_DATA_HOUSE <span class="sc">|&gt;</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> PRESIDENTIAL_YEARS <span class="sc">&amp;</span> (party <span class="sc">==</span> <span class="st">"REPUBLICAN"</span> <span class="sc">|</span> party <span class="sc">==</span> <span class="st">"DEMOCRAT"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state, state_po) <span class="sc">|&gt;</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_votes =</span> <span class="fu">unique</span>(totalvotes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> <span class="fu">sum</span>()) <span class="sc">|&gt;</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum candidate votes, join total_votes_per_state and calculate percentage from total votes</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>sum_house_votes_r_d <span class="ot">&lt;-</span> ELECTION_DATA_HOUSE <span class="sc">|&gt;</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(party <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"DEMOCRAT"</span>, <span class="st">"REPUBLICAN"</span>) <span class="sc">&amp;</span> year <span class="sc">%in%</span> PRESIDENTIAL_YEARS) <span class="sc">|&gt;</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state, state_po, party) <span class="sc">|&gt;</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">candidate_votes =</span> <span class="fu">sum</span>(candidatevotes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(total_votes_per_state, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"state"</span>, <span class="st">"state_po"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> <span class="fu">paste</span>(year, state_po, party, <span class="at">sep =</span> <span class="st">"_"</span>), </span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">house_percentage =</span> candidate_votes <span class="sc">/</span> total_votes</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">house_candidate_votes =</span> candidate_votes,</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">house_total_votes =</span> total_votes</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, house_candidate_votes, house_total_votes, house_percentage)</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate differences from house races percentages and presidential races </span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>state_vote_counts <span class="ot">&lt;-</span> sum_president_votes_r_d <span class="sc">|&gt;</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(sum_house_votes_r_d, <span class="at">by =</span> <span class="st">"id"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dif =</span> house_percentage <span class="sc">-</span> pres_percentage)</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Group these differences by state</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>state_vote_diff_state_score <span class="ot">&lt;-</span> state_vote_counts <span class="sc">|&gt;</span> </span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state, party_detailed) <span class="sc">|&gt;</span> </span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">state_dif =</span> <span class="fu">mean</span>(dif, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate differences by party</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>state_vote_diff_pres_house <span class="ot">&lt;-</span> state_vote_counts <span class="sc">|&gt;</span> </span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, party_detailed) <span class="sc">|&gt;</span> </span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_dif =</span> <span class="fu">mean</span>(dif, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate standardize numbers for comparisons</span></span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>SD <span class="ot">&lt;-</span> <span class="fu">sd</span>(state_vote_diff_pres_house<span class="sc">$</span>avg_dif)</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>MEAN <span class="ot">&lt;-</span> <span class="fu">mean</span>(state_vote_diff_pres_house<span class="sc">$</span>avg_dif)</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a score metric</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>state_vote_diff_total_score <span class="ot">&lt;-</span> state_vote_diff_pres_house <span class="sc">|&gt;</span> </span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score =</span> (avg_dif <span class="sc">-</span> MEAN) <span class="sc">/</span> SD) <span class="sc">|&gt;</span> </span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(score))</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data for plot</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> state_vote_diff_total_score <span class="sc">|&gt;</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Year =</span> year, <span class="at">Party =</span> party_detailed, <span class="at">Score =</span> score) <span class="sc">|&gt;</span></span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">Party =</span> <span class="fu">ifelse</span>(Party <span class="sc">==</span> <span class="st">"DEMOCRAT"</span>, <span class="st">"Democrat"</span>, <span class="st">"Republican"</span>)</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Chart differences in House vote vs. Presidental vote from 1976 - 2020</span></span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(Year), <span class="at">y =</span> Score, <span class="at">fill =</span> Party)) <span class="sc">+</span></span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">width =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Democrat"</span> <span class="ot">=</span> <span class="st">"blue"</span>, <span class="st">"Republican"</span> <span class="ot">=</span> <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Party Score by Year (1976 - 2020)"</span>,</span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Score"</span>,</span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Party"</span></span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"top"</span></span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
<section id="adjusting-data-in-anticipation-for-maping-our-findings" class="level2">
<h2 class="anchored" data-anchor-id="adjusting-data-in-anticipation-for-maping-our-findings">Adjusting Data in Anticipation for Maping our Findings</h2>
<p>What follows are the re-adjustment of our data and inclusion of shapefiles to map out conclusions about our electoral data.</p>
<details>
<summary>
&gt; show code for .shp files
</summary>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify main directory</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>DIRECTORY <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">getwd</span>(),<span class="st">"data"</span>, <span class="at">sep=</span><span class="st">"/"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create function for extracting files from .zip files</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>shp_from_zip <span class="ot">&lt;-</span> <span class="cf">function</span>(file_name, <span class="at">directory =</span> DIRECTORY){</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  dir <span class="ot">&lt;-</span> <span class="fu">paste</span>(directory, file_name, <span class="at">sep=</span><span class="st">"/"</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  td <span class="ot">&lt;-</span> <span class="fu">tempdir</span>(); </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  zip_contents <span class="ot">&lt;-</span> <span class="fu">unzip</span>(dir, </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>                        <span class="at">exdir =</span> td)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  fname_shp <span class="ot">&lt;-</span> zip_contents[<span class="fu">grepl</span>(<span class="st">"shp$"</span>, zip_contents)]</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">read_sf</span>(fname_shp))</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Test function</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>file <span class="ot">&lt;-</span> <span class="fu">shp_from_zip</span>(<span class="st">"/mp03/congress_shapefiles/congress_095_shapefile.zip"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
<section id="electora-map-for-the-2000-election" class="level2">
<h2 class="anchored" data-anchor-id="electora-map-for-the-2000-election">Electora Map for the 2000 Election</h2>
<p>Here is the map for the fateful <code>2000</code> Presidential Election, the election that re-centered the <strong>Electoral College</strong> back into the national spotlight.</p>
<img src="images/mp-03/2000-electoral-college-map.png" class="img-fluid">
<details>
<summary>
&gt; show the code
</summary>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### CHLOROPLETH FOR 2000 ELECTION ####</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate winner for each state for 2000 election and create winning_party field</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>pres_vote_2000 <span class="ot">&lt;-</span> ELECTION_DATA_PRESIDENT <span class="sc">|&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2000</span>) <span class="sc">|&gt;</span>                             </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state, candidate) <span class="sc">|&gt;</span>                       </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_votes =</span> <span class="fu">sum</span>(candidatevotes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span>  </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(state, <span class="fu">desc</span>(total_votes)) <span class="sc">|&gt;</span>                 </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(total_votes, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">winning_party =</span> <span class="fu">ifelse</span>(candidate <span class="sc">==</span> <span class="st">"GORE, AL"</span>, <span class="st">"D"</span>, <span class="st">"R"</span>))</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Load shapefile from 106th Congress - relevant for 2000 election</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;!--</span> pres_shp_2000 <span class="ot">&lt;-</span> <span class="fu">shp_from_zip</span>(<span class="st">"/mp03/congress_shapefiles/congress_106_shapefile.zip"</span>) <span class="sc">-</span><span class="ot">-&gt;</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Load .shp file for congressional districts for 2000 </span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>pres_shp_2000 <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"data/mp03/congress_shapefiles/districtShapes/districts105.shp"</span>)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Make sure STATENAME is clean and able to join</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>pres_shp_2000 <span class="ot">&lt;-</span> pres_shp_2000 <span class="sc">|&gt;</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">STATENAME =</span> <span class="fu">str_to_upper</span>(<span class="fu">str_trim</span>(STATENAME)))</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Make sure state is clean and able to join</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>pres_vote_2000 <span class="ot">&lt;-</span> pres_vote_2000 <span class="sc">|&gt;</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">str_to_upper</span>(<span class="fu">str_trim</span>(state)))</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Join data</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>pres_map_vote_2000_data <span class="ot">&lt;-</span> pres_shp_2000 <span class="sc">|&gt;</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(pres_vote_2000, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"STATENAME"</span> <span class="ot">=</span> <span class="st">"state"</span>))</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Make geometries valid</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>pres_map_vote_2000_data_g <span class="ot">&lt;-</span> pres_map_vote_2000_data <span class="sc">|&gt;</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">geometry =</span> <span class="fu">st_make_valid</span>(geometry))</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Create state boundaries</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>state_boundaries <span class="ot">&lt;-</span> pres_map_vote_2000_data_g <span class="sc">|&gt;</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STATENAME, winning_party) <span class="sc">|&gt;</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">geometry =</span> <span class="fu">st_union</span>(geometry),</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_votes =</span> <span class="fu">sum</span>(total_votes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Find electoral college vote totals</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>electoral_votes_00 <span class="ot">&lt;-</span> ELECTION_DATA_HOUSE <span class="sc">|&gt;</span> </span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2000</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state) <span class="sc">|&gt;</span></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">votes =</span> <span class="fu">n_distinct</span>(district) <span class="sc">+</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> votes)</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Join electoral college votes</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>state_boundaries  <span class="ot">&lt;-</span>  state_boundaries <span class="sc">|&gt;</span></span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(electoral_votes_00, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"STATENAME"</span> <span class="ot">=</span> <span class="st">"state"</span>))</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Handle DC's NA</span></span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>state_boundaries<span class="sc">$</span><span class="st">`</span><span class="at">2000</span><span class="st">`</span>[state_boundaries<span class="sc">$</span>STATENAME <span class="sc">==</span> <span class="st">"DISTRICT OF COLUMBIA"</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(state_boundaries<span class="sc">$</span><span class="st">`</span><span class="at">2000</span><span class="st">`</span>)] <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove NA values</span></span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>cleaned_data <span class="ot">&lt;-</span> state_boundaries <span class="sc">|&gt;</span></span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(geometry), <span class="sc">!</span><span class="fu">is.na</span>(winning_party))</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Define dc_location and assign geometry if needed</span></span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>dc_location <span class="ot">&lt;-</span> state_boundaries <span class="sc">|&gt;</span></span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STATENAME <span class="sc">==</span> <span class="st">"DISTRICT OF COLUMBIA"</span>)</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if geometry exists and is not empty</span></span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">nrow</span>(dc_location) <span class="sc">==</span> <span class="dv">0</span> <span class="sc">||</span> <span class="fu">st_is_empty</span>(dc_location<span class="sc">$</span>geometry)) {</span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Manually assign coordinates if geometry is missing or empty</span></span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a>  dc_location <span class="ot">&lt;-</span> <span class="fu">st_sf</span>(</span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">STATENAME =</span> <span class="st">"DISTRICT OF COLUMBIA"</span>,</span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">winning_party =</span> <span class="st">"D"</span>,</span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">geometry =</span> <span class="fu">st_sfc</span>(<span class="fu">st_point</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">77.0369</span>, <span class="fl">38.9072</span>)), <span class="at">crs =</span> <span class="fu">st_crs</span>(state_boundaries))</span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate centroid if geometry is available</span></span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>  dc_location <span class="ot">&lt;-</span> <span class="fu">st_centroid</span>(dc_location)</span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate centroids using st_point_on_surface to ensure within geometry</span></span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a>state_centroids <span class="ot">&lt;-</span> state_boundaries <span class="sc">|&gt;</span></span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_point_on_surface</span>()</span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure all layers have the same CRS</span></span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a>state_boundaries <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(state_boundaries, <span class="at">crs =</span> <span class="fu">st_crs</span>(pres_shp_2000))</span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a>state_centroids <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(state_centroids, <span class="at">crs =</span> <span class="fu">st_crs</span>(state_boundaries))</span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a>dc_location <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(dc_location, <span class="at">crs =</span> <span class="fu">st_crs</span>(state_boundaries))</span>
<span id="cb6-87"><a href="#cb6-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the data</span></span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> cleaned_data, <span class="fu">aes</span>(<span class="at">fill =</span> winning_party), <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf_text</span>(<span class="at">data =</span> state_centroids, <span class="fu">aes</span>(<span class="at">label =</span> <span class="st">`</span><span class="at">2000</span><span class="st">`</span>), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> dc_location, <span class="at">shape =</span> <span class="dv">8</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">"gold"</span>) <span class="sc">+</span>  <span class="co"># Overlay star for DC</span></span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"D"</span> <span class="ot">=</span>  <span class="fu">alpha</span>(<span class="st">"blue"</span>, .<span class="dv">7</span>), <span class="st">"R"</span> <span class="ot">=</span>  <span class="fu">alpha</span>(<span class="st">"red"</span>, .<span class="dv">7</span>))) <span class="sc">+</span> </span>
<span id="cb6-94"><a href="#cb6-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">130</span>, <span class="sc">-</span><span class="dv">60</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">24</span>, <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb6-95"><a href="#cb6-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Winning Party"</span>) <span class="sc">+</span></span>
<span id="cb6-96"><a href="#cb6-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb6-97"><a href="#cb6-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb6-98"><a href="#cb6-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb6-99"><a href="#cb6-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_blank</span>(),    </span>
<span id="cb6-100"><a href="#cb6-100" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),           </span>
<span id="cb6-101"><a href="#cb6-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb6-102"><a href="#cb6-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb6-103"><a href="#cb6-103" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),    </span>
<span id="cb6-104"><a href="#cb6-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()     </span>
<span id="cb6-105"><a href="#cb6-105" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-106"><a href="#cb6-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-107"><a href="#cb6-107" aria-hidden="true" tabindex="-1"></a><span class="do">#### FACETED HISTORY OF RECENT ELECTORAL COLLEGE COUNTS ####</span></span>
<span id="cb6-108"><a href="#cb6-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-109"><a href="#cb6-109" aria-hidden="true" tabindex="-1"></a><span class="do">#### DOES NOT RENDER. CRASHES COMPUTER. ITS NOT IN PROJECT :-( ####</span></span>
<span id="cb6-110"><a href="#cb6-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-111"><a href="#cb6-111" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean up all gemoetries</span></span>
<span id="cb6-112"><a href="#cb6-112" aria-hidden="true" tabindex="-1"></a>cleaned_data <span class="ot">&lt;-</span> pres_shp_2000 <span class="sc">|&gt;</span></span>
<span id="cb6-113"><a href="#cb6-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">geometry =</span> <span class="fu">st_make_valid</span>(geometry)) <span class="sc">|&gt;</span></span>
<span id="cb6-114"><a href="#cb6-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STATENAME) <span class="sc">|&gt;</span></span>
<span id="cb6-115"><a href="#cb6-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb6-116"><a href="#cb6-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-117"><a href="#cb6-117" aria-hidden="true" tabindex="-1"></a><span class="co"># Union geometries into states</span></span>
<span id="cb6-118"><a href="#cb6-118" aria-hidden="true" tabindex="-1"></a>states_shapes_2000 <span class="ot">&lt;-</span> cleaned_data <span class="sc">|&gt;</span></span>
<span id="cb6-119"><a href="#cb6-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STATENAME,geometry)<span class="sc">|&gt;</span></span>
<span id="cb6-120"><a href="#cb6-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STATENAME)<span class="sc">|&gt;</span></span>
<span id="cb6-121"><a href="#cb6-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry))<span class="sc">|&gt;</span></span>
<span id="cb6-122"><a href="#cb6-122" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(geometry))</span>
<span id="cb6-123"><a href="#cb6-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-124"><a href="#cb6-124" aria-hidden="true" tabindex="-1"></a><span class="co"># Cast geometries into a polygon</span></span>
<span id="cb6-125"><a href="#cb6-125" aria-hidden="true" tabindex="-1"></a>us_states_sf <span class="ot">&lt;-</span> states_shapes_2000 <span class="sc">|&gt;</span></span>
<span id="cb6-126"><a href="#cb6-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(geometry)) <span class="sc">|&gt;</span></span>
<span id="cb6-127"><a href="#cb6-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_make_valid</span>() <span class="sc">|&gt;</span> </span>
<span id="cb6-128"><a href="#cb6-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_cast</span>(<span class="st">"MULTIPOLYGON"</span>) </span>
<span id="cb6-129"><a href="#cb6-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-130"><a href="#cb6-130" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by year and state and identify entry with most votes</span></span>
<span id="cb6-131"><a href="#cb6-131" aria-hidden="true" tabindex="-1"></a>presidential_winners_by_state <span class="ot">&lt;-</span> ELECTION_DATA_PRESIDENT <span class="sc">|&gt;</span></span>
<span id="cb6-132"><a href="#cb6-132" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, state, candidatevotes, candidate, party_simplified) <span class="sc">|&gt;</span></span>
<span id="cb6-133"><a href="#cb6-133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state) <span class="sc">|&gt;</span></span>
<span id="cb6-134"><a href="#cb6-134" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(candidatevotes)</span>
<span id="cb6-135"><a href="#cb6-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-136"><a href="#cb6-136" aria-hidden="true" tabindex="-1"></a><span class="co"># Join data</span></span>
<span id="cb6-137"><a href="#cb6-137" aria-hidden="true" tabindex="-1"></a>presidentials_winners_combined_sf <span class="ot">&lt;-</span> presidential_winners_by_state <span class="sc">|&gt;</span></span>
<span id="cb6-138"><a href="#cb6-138" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, state, party_simplified) <span class="sc">|&gt;</span></span>
<span id="cb6-139"><a href="#cb6-139" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(us_states_sf<span class="sc">|&gt;</span></span>
<span id="cb6-140"><a href="#cb6-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STATENAME, geometry) <span class="sc">|&gt;</span></span>
<span id="cb6-141"><a href="#cb6-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">STATENAME=</span><span class="fu">toupper</span>(STATENAME)),<span class="at">by=</span><span class="fu">c</span>(<span class="st">"state"</span><span class="ot">=</span><span class="st">"STATENAME"</span>))</span>
<span id="cb6-142"><a href="#cb6-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-143"><a href="#cb6-143" aria-hidden="true" tabindex="-1"></a><span class="co"># Reduced Geometries</span></span>
<span id="cb6-144"><a href="#cb6-144" aria-hidden="true" tabindex="-1"></a>presidentials_winners_combined_sf_t <span class="ot">&lt;-</span> presidentials_winners_combined_sf <span class="sc">%&gt;%</span></span>
<span id="cb6-145"><a href="#cb6-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">geometry =</span> <span class="fu">st_simplify</span>(geometry, <span class="at">dTolerance =</span> <span class="fl">0.05</span>))</span>
<span id="cb6-146"><a href="#cb6-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-147"><a href="#cb6-147" aria-hidden="true" tabindex="-1"></a><span class="co"># Try without DC </span></span>
<span id="cb6-148"><a href="#cb6-148" aria-hidden="true" tabindex="-1"></a>presidentials_winners_combined_sf_t <span class="ot">&lt;-</span> presidentials_winners_combined_sf_t <span class="sc">|&gt;</span></span>
<span id="cb6-149"><a href="#cb6-149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(state <span class="sc">!=</span> <span class="st">"DISTRICT OF COLUMBIA"</span>)</span>
<span id="cb6-150"><a href="#cb6-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-151"><a href="#cb6-151" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot Data (doesn't work)</span></span>
<span id="cb6-152"><a href="#cb6-152" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(presidentials_winners_combined_sf_t <span class="sc">|&gt;</span> <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1976</span>, <span class="dv">1980</span>))) <span class="sc">+</span></span>
<span id="cb6-153"><a href="#cb6-153" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">geometry =</span> geometry, <span class="at">fill =</span> party_simplified), <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb6-154"><a href="#cb6-154" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"DEMOCRAT"</span> <span class="ot">=</span> <span class="st">"blue"</span>, <span class="st">"REPUBLICAN"</span> <span class="ot">=</span> <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb6-155"><a href="#cb6-155" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">130</span>, <span class="sc">-</span><span class="dv">60</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">24</span>, <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb6-156"><a href="#cb6-156" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Winning Party"</span>) <span class="sc">+</span></span>
<span id="cb6-157"><a href="#cb6-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb6-158"><a href="#cb6-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb6-159"><a href="#cb6-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)</span>
<span id="cb6-160"><a href="#cb6-160" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"ending"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
<section id="differing-means-of-allocating-electoral-college-votes" class="level2">
<h2 class="anchored" data-anchor-id="differing-means-of-allocating-electoral-college-votes">Differing Means of Allocating Electoral College Votes</h2>
<p>The <strong>Electoral College</strong> has long been debated for its undemocratic nature as it can allow a candidate to win the presidency without securing the popular vote. In doing so, the <strong>Electoral College</strong> effectively amplifies the influence of smaller or swing states over larger, non-competitive states. This occurs due to the <strong>State-Wide Winner-Take-All</strong> method, where the candidate who wins the majority of votes in a state receives all of that state’s electoral votes, making individual votes in less competitive states less influential.</p>
<p>But states are not compelled to use the <strong>State-Wide Winner-Take-All</strong> method as the <strong>United States Constitution</strong> allows states to decide for themselves how they allocate their electoral votes.</p>
<p>What follows is a brief overview of the different electoral vote allocation strategies and their political implications…</p>
<p><strong>State-Wide Winner-Take-All:</strong></p>
<p>Currently used by most states, this approach awards all electoral votes to the candidate with the most votes in a state. While it simplifies outcomes, it can marginalize voters in states where one party has a strong majority, as votes for the minority party have no impact on the <strong>Electoral College</strong> outcome. This strategy focuses campaign efforts on swing states, leaving “safe” states largely ignored.</p>
<p><strong>District-Wide Winner-Take-All + State-Wide “At Large” Votes:</strong></p>
<p>This approach allocates one electoral vote per congressional district, awarded to the candidate who wins the district, with two additional votes (representing the <strong>Senate</strong> seats) awarded to the statewide winner. Adopted by <strong>Maine</strong> and <strong>Nebraska</strong>, it reflects more local preferences but may amplify the impact of gerrymandered districts, which can skew results within a state.</p>
<p><strong>State-Wide Proportional:</strong></p>
<p>In this model, electoral votes are allocated proportionally based on the statewide vote. This approach provides a more representative outcome for each state, as candidates receive electoral votes in line with their actual support.</p>
<p><strong>National Proportional:</strong></p>
<p>Here, electoral votes are allocated based on the candidates’ national popular vote percentages. This model reflects the popular vote while maintaining the structure of the <strong>Electoral College</strong>.</p>
</section>
<section id="the-presidential-elections-of-2000-and-2016" class="level2">
<h2 class="anchored" data-anchor-id="the-presidential-elections-of-2000-and-2016">The Presidential Elections of 2000 and 2016</h2>
<p>The <code>2000</code> and <code>2016</code> elections offer compelling cases for examining competing methods of distributing electoral votes. In both instances, the <strong>Electoral College</strong> outcome diverged from the popular vote, with the presidential candidates who secured the majority of electoral votes not winning the national popular vote. These elections highlight the potential discrepancies within the <strong>Electoral College</strong> system and can shed light on whether alternative approaches might better align electoral outcomes with the popular will.</p>
<p>Analyzing these elections arguably offers the best insight into how different allocation methods could impact future presidential races and the broader democratic process.</p>
</section>
<section id="election-of-2000-george-w.-bush-v.-al-gore" class="level2">
<h2 class="anchored" data-anchor-id="election-of-2000-george-w.-bush-v.-al-gore">Election of 2000: George W. Bush v. Al Gore</h2>
<p>The <code>2000</code> presidential election served as a stark reminder of the Electoral College’s pivotal role in determining the presidency, a mechanism many Americans were unfamiliar with until then. The race between <strong>George W. Bush</strong> and <strong>Al Gore</strong> hinged on a razor-thin vote margin in <strong>Florida</strong>, leading to a weeks-long recount and intense media scrutiny of obscure ballot-counting procedures introducing the country to the infamous “hanging chad.”</p>
<p>Ultimately the <strong>Supreme Court</strong> intervened in the recount, issuing a decision in <em>Bush v. Gore</em> that halted the <strong>Florida</strong> recount and awarded the state’s electoral votes to <strong>Bush</strong>. In a break from jurisprudence tradition, the Court explicitly declared that its ruling was intended solely for this case and was not meant to set legal precedent.</p>
<p>While this contentious election spurred calls to reform or abolish the <strong>Electoral College</strong> no significant changes materialized, and the system remained unchanged.</p>
<div class="flexbox-votes">
<div>
<h3 class="anchored">
George Bush
</h3>
<p>
electoral vote: <strong>271</strong>
</p>
<p>
popular vote: 50,456,002
</p>
<p>
percentage: 47.9%
</p>
</div>
<div>
<h3 class="anchored">
Al Gore
</h3>
<p>
electoral vote: 266
</p>
<p>
popular vote: <strong>50,999,897</strong>
</p>
<p>
percentage: <strong>48.4%</strong>
</p>
</div>
</div>
<p><br> <strong>How would the election of 2000 played out under differing strategies of allocating electoral votes?</strong> <br></p>
<p><img src="images/mp-03/1-state-winner-take-all-2000.png" class="img-fluid" style="width:80%; border: 1px solid black; display: block; margin: 10px auto;"></p>
<p><img src="images/mp-03/2-district-winner-take-all-2000.png" class="img-fluid" style="width:80%; border: 1px solid black; display: block; margin: 10px auto;"> <img src="images/mp-03/3-state-wide-proportion-2000.png" class="img-fluid" style="width:80%; border: 1px solid black; display: block; margin: 10px auto;"> <img src="images/mp-03/4-national-proportion-2000.png" class="img-fluid" style="width:80%; border: 1px solid black; display: block; margin: 10px auto;"></p>
</section>
<section id="the-election-of-2016-donald-j.-trump-v.-hillary-clinton" class="level2">
<h2 class="anchored" data-anchor-id="the-election-of-2016-donald-j.-trump-v.-hillary-clinton">The Election of 2016: Donald J. Trump v. Hillary Clinton</h2>
<p>The <code>2016</code> election is regarded as one of the most consequential in recent memory. Its impact on American politics and society is still felt today. Widely expected to end in an easy victory for <strong>Hillary Clinton</strong>, the election shocked political experts and the nation at large when <strong>Donald Trump</strong> defied predictions and won.</p>
<p><strong>Trump</strong>’s unconventional, “gonzo” approach to politics upended traditional campaign norms and is seen as ushering in a new brand of political conservatism—one that marked a significant departure from the policies and style of traditional, staid Republican politics. This shift has shaped the direction of the <strong>Republican Party</strong> and redefined the political landscape, solidifying the <code>2016</code> election as an undeniably transformative moment in <strong>U.S. History</strong>.</p>
<p><strong>Donald Trump</strong>’s confrontational and unorthodox style as president only intensified public scrutiny of the Electoral College as he had won in <code>2016</code> despite losing the popular vote. His tumultuous administration brought scrutiny upon the <strong>U.S. Constitution</strong> and renewed calls for reform or even abolition of the <strong>Electoral College</strong>.</p>
<p>However, despite this heightened debate surrounding the <strong>Trump Presidency</strong>, there was no meaningful progress toward changing the <strong>Electoral College</strong>. Consequently, the <strong>Electoral College</strong> remains unchanged even as public criticism reached new heights during the <strong>Trump Aministration</strong>.</p>
<div class="flexbox-votes">
<div>
<h3 class="anchored">
Donald J. Trump
</h3>
<p>
electoral vote: <strong>304</strong>
</p>
<p>
popular vote: 62,984,828
</p>
<p>
percentage: 46.1%
</p>
</div>
<div>
<h3 class="anchored">
Hillary Clinton
</h3>
<p>
electoral vote: 227
</p>
<p>
popular vote: <strong>65,853,514</strong>
</p>
<p>
percentage: <strong>48.2%</strong>
</p>
</div>
</div>
<p><br> <strong>How would the election of 2016 played out under differing strategies of allocating electoral votes?</strong> <br></p>
<img src="images/mp-03/1-state-winner-take-all-2016.png" class="img-fluid" style="width:80%; border: 1px solid black; display: block; margin: 10px auto;"> <img src="images/mp-03/2-district-winner-take-all-2016.png" class="img-fluid" style="width:80%; border: 1px solid black; display: block; margin: 10px auto;"> <img src="images/mp-03/3-state-wide-proportion-2016.png" class="img-fluid" style="width:80%; border: 1px solid black; display: block; margin: 10px auto;"> <img src="images/mp-03/4-national-proportion-2016.png" class="img-fluid" style="width:80%; border: 1px solid black; display: block; margin: 10px auto;">
<details>
<summary>
&gt; show the code
</summary>
<pre><code>#### STATE WIDE WINNER TAKE ALL ####

# Create popular vote tabulations
popular_vote_summary &lt;- ELECTION_DATA_PRESIDENT |&gt;
  group_by(year, candidate) |&gt;
  summarise(
    popular_vote_count = sum(candidatevotes, na.rm = TRUE),           
    total_votes_year = sum(totalvotes, na.rm = TRUE)                 
  ) |&gt;
  ungroup() |&gt;
  mutate(
    popular_vote_percentage = (popular_vote_count / total_votes_year) * 100   
  ) |&gt;
  select(year, candidate, popular_vote_count, popular_vote_percentage, total_votes_year) |&gt;
  filter(popular_vote_percentage &gt; 4.9) |&gt;
  arrange(year, desc(popular_vote_count))

# Create electoral vote counts for each state in each presidential election
electoral_vote_counts &lt;- ELECTION_DATA_HOUSE |&gt;
  filter(year %in% seq(1976, 2020, by = 4)) |&gt; 
  group_by(year, state) |&gt;
  summarize(votes = n_distinct(district) + 2, .groups = "drop") 

# Create vector of years
years &lt;- unique(electoral_vote_counts$year)

# Ensure Washington DC has 3 votes for each year
electoral_vote_counts &lt;- electoral_vote_counts |&gt;
  bind_rows(
    tibble(
      year = years[!years %in% electoral_vote_counts$year[electoral_vote_counts$state == "DISTRICT OF COLUMBIA"]],
      state = "DISTRICT OF COLUMBIA",
      votes = 3
    )
  ) |&gt;
  mutate(votes = ifelse(state == "DISTRICT OF COLUMBIA", 3, votes)) |&gt;
  arrange(year, state)

# Identify total votes, winning candidate and winning party
state_winner_take_all &lt;- ELECTION_DATA_PRESIDENT |&gt;  # 
  group_by(year, state) |&gt;             
  filter(!is.na(candidate)) |&gt;        
  summarise(
    total_votes = sum(candidatevotes, na.rm = TRUE),
    winner_candidate = candidate[which.max(candidatevotes)],
    winner_party = party_detailed[which.max(candidatevotes)],
    .groups = "drop"
  )

# Join the electoral vote counts to the state winner data
state_winner_with_votes &lt;- state_winner_take_all |&gt;
  left_join(electoral_vote_counts, by = c("year", "state"))

# Handle Washington DC 
state_winner_with_votes &lt;- state_winner_with_votes |&gt;
  mutate(
    state_abbr = ifelse(
      state == "District Of Columbia", "DC",  
      state.abb[match(state, state.name)]     
    )
  )

# Function to Title Case and reformat names
reformat_candidate_name &lt;- function(winner_candidate) {
  name_parts &lt;- str_split(winner_candidate, ",\\s*")[[1]]
  formatted_name &lt;- str_to_title(paste(name_parts[2], name_parts[1]))
  return(formatted_name)
}

# Reformat names
state_winner_with_votes &lt;- state_winner_with_votes |&gt;
  mutate(
    proper_name = sapply(winner_candidate, reformat_candidate_name), 
    winner_party = str_replace(winner_party, "DEMOCRATIC", "DEMOCRAT")
    )

# Re-do state abbreviations
state_winner_with_votes &lt;- state_winner_with_votes |&gt;
  mutate(
    state_cleaned = str_trim(str_to_title(state)), 
    state_abbr = ifelse(
      state_cleaned == "District Of Columbia", "DC",  
      state.abb[match(state_cleaned, state.name)]
    )
  ) |&gt;
  select(-state_cleaned)  

 
# Summarize electoral vote totals
calculate_ec_vote_totals &lt;- function(electoral_college_data, election_year) {
  # Filter for the specific election year to avoid aggregating across years
  df_year_requested &lt;- electoral_college_data |&gt;
    filter(year == election_year)

# Summarize total popular and electoral votes by candidate's proper name and party
vote_summary &lt;- df_year_requested |&gt;
  group_by(proper_name, winner_party) |&gt;
  summarise(
      ec_vote = sum(votes),
      .groups = "drop"
    )

# Arrange by ec_vote in descending order to get the winners first
vote_summary &lt;- vote_summary |&gt;
  arrange(desc(ec_vote))

  # Return the results as two named lists for first and second place candidates
  list(
    first_place = list(
      candidate = vote_summary$proper_name[1],
      party = vote_summary$winner_party[1],
      ec_vote = vote_summary$ec_vote[1]
    ),
    second_place = list(
      candidate = vote_summary$proper_name[2],
      party = vote_summary$winner_party[2],
      ec_vote = vote_summary$ec_vote[2]
    )
  )
}

# Summarize popular vote totals
calculate_popular_vote_totals &lt;- function(popular_vote_data, election_year) {
  # Filter for the specified election year
  df_year_requested &lt;- popular_vote_data |&gt;
    filter(year == election_year)

  # Summarize popular vote counts and percentages by candidate and party
  vote_summary &lt;- df_year_requested |&gt;
    group_by(candidate) |&gt;
    summarise(
      popular_vote_count = sum(popular_vote_count, na.rm = TRUE),
      popular_vote_percentage = mean(popular_vote_percentage, na.rm = TRUE),
      .groups = "drop"
    ) |&gt;
    arrange(desc(popular_vote_count))

  # Return the results as a list with each candidate's information
  list(
    first_place = list(
      candidate = vote_summary$candidate[1],
      popular_vote_count = vote_summary$popular_vote_count[1],
      popular_vote_percentage = vote_summary$popular_vote_percentage[1]
    ),
    second_place = list(
      candidate = vote_summary$candidate[2],
      popular_vote_count = vote_summary$popular_vote_count[2],
      popular_vote_percentage = vote_summary$popular_vote_percentage[2]
    )
  )
}

# Function for winner take all report
state_winner_take_all &lt;- function(data_set, election_year, ec_summary_data) {
  # Filter data for the requested election year
  df_year_requested &lt;- data_set |&gt; 
    filter(year == election_year)
  
  # Extract information from the ec_summary_data
  proper_name1 &lt;- ec_summary_data$first_place$candidate
  party1 &lt;- ec_summary_data$first_place$party
  ec_vote1 &lt;- ec_summary_data$first_place$ec_vote
  
  proper_name2 &lt;- ec_summary_data$second_place$candidate
  party2 &lt;- ec_summary_data$second_place$party
  ec_vote2 &lt;- ec_summary_data$second_place$ec_vote
  
  # Create custom legend text with candidate names, parties, popular votes, and electoral votes
  legend_text &lt;- paste0(
    toupper(proper_name1), " (", substr(party1, 1, 1), ")\n",
    "Electoral Votes: ", ec_vote1, "\n",
    toupper(proper_name2), " (", substr(party2, 1, 1), ")\n",
    "Electoral Votes: ", ec_vote2
  )
  
  # Create the plot
  ggplot(df_year_requested, aes(state = state_abbr, fill = winner_party)) +
    statebins::geom_statebins(radius = grid::unit(0.1, "cm")) +
    scale_fill_manual(values = c("DEMOCRAT" = "blue", "REPUBLICAN" = "red"), name = "Winner") +
    labs(
      title = paste("US Electoral College Votes by State-Wide Winner-Take-All (", election_year, ")", sep = ""),
      subtitle = legend_text
    ) +
    theme_minimal() +
    theme(
      legend.position = "none",
      panel.background = element_blank(),
      axis.text = element_blank(),
      axis.ticks = element_blank(),
      panel.grid = element_blank(),
      plot.subtitle = element_text(color = "black")
    )
}

# Call functions for plotting
ec_summary &lt;- calculate_ec_vote_totals(state_winner_with_votes, 2000)
pop_summary &lt;- calculate_popular_vote_totals(popular_vote_summary, 2000)
state_winner_take_all(state_winner_with_votes, 2000, ec_summary)

ec_summary &lt;- calculate_ec_vote_totals(state_winner_with_votes, 2000)
pop_summary &lt;- calculate_popular_vote_totals(popular_vote_summary, 2000)
state_winner_take_all(state_winner_with_votes, 2000, ec_summary)


#### DISTRICT WIDE WINNTER TAKE ALL &amp; STATE WIDE AT LARGE VOTES ####

# Calculate district winners and add an at_large seat
calculate_district_winners_with_at_large &lt;- function(data) {
  # Calculate district-level winners
  district_winners &lt;- data |&gt;
    group_by(year, state, state_po, district) |&gt;
    filter(candidatevotes == max(candidatevotes)) |&gt;
    summarise(
      party = first(party),
      candidate = first(candidate),
      .groups = "drop"
    ) |&gt;
    mutate(district = as.character(district)) |&gt;
    select(year, state, state_po, district, party)
  
  # Calculate at-large seats (2 votes) based on majority party in each state per year
  at_large_winners &lt;- district_winners |&gt;
    group_by(year, state, state_po) |&gt;
    count(party, name = "district_count") |&gt;
    slice_max(district_count, n = 1, with_ties = FALSE) |&gt;
    mutate(
      district = "at_large",
      party = party
    ) |&gt;
    select(year, state, state_po, district, party)

  # Combine district winners and at-large results
  bind_rows(district_winners, at_large_winners)
}

# Sum all votes and percentages for each party for each year and each state
calculate_vote_totals_at_large &lt;- function(data) {
  data |&gt;
    mutate(votes = if_else(district == "at_large", 2, 1)) |&gt;
    group_by(year, state, state_po, party) |&gt;
    summarise(total_votes = sum(votes), .groups = "drop") |&gt;
    group_by(year, state, state_po) |&gt;
    mutate(total_state_votes = sum(total_votes)) |&gt;
    mutate(win_percent = round((total_votes / total_state_votes), 4)) |&gt;
    select(-total_state_votes) |&gt;
    arrange(year, state, party) |&gt; 
    mutate(color = ifelse(party == "DEMOCRAT", alpha("blue", win_percent), alpha("red", win_percent)))
}


# First find winners for each district and the at large winner
district_winners_with_at_large &lt;- calculate_district_winners_with_at_large(ELECTION_DATA_HOUSE)
ec_total_at_large &lt;- calculate_vote_totals_at_large(district_winners_with_at_large) 

# Identify all the unique presidential winners
unique_winners_al &lt;- state_winner_with_votes |&gt;
  distinct(year, winner_party, proper_name) |&gt;
  rename("party" = "winner_party")

# Add proper names to EC totals
ec_total_at_large &lt;- ec_total_at_large |&gt;
  left_join(unique_winners_al, by = c("year", "party")) 

total_votes_check &lt;- ec_total_at_large |&gt;
  filter(year == 2016) |&gt; 
  summarise(total_electoral_votes = sum(total_votes))


plot_electoral_votes &lt;- function(data, election_year) {
  df_year_filtered &lt;- data |&gt;
    filter(year == election_year) |&gt;
    group_by(state, state_po) |&gt;
    ungroup()
  
  total_votes_summary &lt;- df_year_filtered |&gt;
    group_by(proper_name, party) |&gt;
    summarise(total_votes = sum(total_votes), .groups = "drop") |&gt;
    arrange(desc(total_votes))
  print(total_votes_summary)
  total_votes_list &lt;- split(total_votes_summary, seq(nrow(total_votes_summary)))
  
  # Manually referencing each element in total_votes_list
  proper_name1 &lt;- total_votes_list[[1]]$proper_name
  winner_party1 &lt;- total_votes_list[[1]]$party
  total_votes1 &lt;- total_votes_list[[1]]$total_votes
  
  proper_name2 &lt;- total_votes_list[[2]]$proper_name
  winner_party2 &lt;- total_votes_list[[2]]$party
  total_votes2 &lt;- total_votes_list[[2]]$total_votes + 3
  
  # Format party abbreviations
  party1 &lt;- ifelse(winner_party1 == "DEMOCRAT", "(D)", "(R)")
  party2 &lt;- ifelse(winner_party2 == "DEMOCRAT", "(D)", "(R)")
  
  # Construct the formatted string using paste and the variables
  output_string &lt;- paste(
    toupper(proper_name1), party1, "\nElectoral Votes:", total_votes1, "\n",
    toupper(proper_name2), party2, "\nElectoral Votes:", total_votes2
  )
   output_string &lt;- sprintf(
    "%s %s\nElectoral Votes: %d\n%s %s\nElectoral Votes: %d",
    toupper(proper_name1), party1, total_votes1,
    toupper(proper_name2), party2, total_votes2
    )
    
  # Create the plot
  ggplot(df_year_filtered, aes(state = state_po, fill = color)) +
    statebins::geom_statebins(radius = grid::unit(0.1, "cm")) +
     scale_fill_identity() +
    labs(
      title = paste("US District-Wide Winner-Take-All + State-Wide “At Large” Votes (", election_year, ")", sep = ""),
      subtitle = paste("Color intensity represents share of Electoral College Votes\n\n",output_string, sep="\n")
    ) +
    theme_minimal() +
    theme(
      legend.position = "right",
      panel.background = element_blank(),
      axis.text = element_blank(),
      axis.ticks = element_blank(),
      panel.grid = element_blank(),
      plot.subtitle = element_text(color = "black")
    )
}

# Run plot
plot_electoral_votes(ec_total_at_large, 2000)

#### STATE WIDE PROPORTIONAL ####

electon_data_president_p &lt;- ELECTION_DATA_PRESIDENT |&gt; 
    mutate(party_detailed = if_else(party_detailed == "DEMOCRATIC-FARMER-LABOR", "DEMOCRAT", party_detailed)) |&gt;
    filter(party_detailed == "DEMOCRAT" | party_detailed == "REPUBLICAN")

# Get electoral votes for each state for each year
electoral_votes_by_state_p &lt;- ELECTION_DATA_HOUSE |&gt; 
  group_by(year, state, state_po) |&gt;
  summarize(votes = n_distinct(district) + 2)

# Calculate percentages 
state_percentages_p &lt;- electon_data_president_p |&gt;
  group_by(year, state, state_po, party_detailed) |&gt;
  summarise(
    candidate = first(candidate),
    total_candidate_votes = sum(candidatevotes),
    total_state_votes = first(totalvotes), 
    percentage = total_candidate_votes / total_state_votes
  ) |&gt;
  ungroup() |&gt;
  select(year, state, state_po, candidate, party_detailed, percentage) |&gt;
  group_by(year, state, state_po) |&gt;
  mutate(winner = percentage == max(percentage)) |&gt;
  ungroup()

# Join percentages with votes
state_percentages_w_votes_p &lt;- state_percentages_p |&gt;
  right_join(electoral_votes_by_state_p, by = c("year", "state", "state_po")) |&gt;
  rename(electoral_votes = votes)
 
# Break up electoral votes won by percentages  
state_electoral_votes_p &lt;- state_percentages_w_votes_p |&gt;
  group_by(year, state, state_po) |&gt;
  mutate(
    # Calculate electoral votes won by the winner (round up)
    electoral_votes_won = ifelse(
      winner,
      ceiling(percentage * electoral_votes),
      electoral_votes - ceiling(percentage[winner == TRUE] * electoral_votes)
    )
  ) |&gt;
  mutate(percent_electoral_votes = round(electoral_votes_won / electoral_votes, 2)) |&gt;
  mutate(color = ifelse(party_detailed == "DEMOCRAT", alpha("blue", percent_electoral_votes), alpha("red",             percent_electoral_votes))) |&gt;
  ungroup()

# Join proper names
state_electoral_votes_p &lt;- state_electoral_votes_p |&gt;
  left_join(unique_winners_n, by = c("year", "party_detailed")) 
  
plot_electoral_votes &lt;- function(data, election_year) {
  df_year_filtered &lt;- data |&gt;
    filter(year == election_year) 
  
  summary &lt;- df_year_filtered |&gt;
    group_by(party_detailed, proper_name) |&gt;
    summarise(total_electoral_votes_won = sum(electoral_votes_won, na.rm = TRUE)) |&gt;
    ungroup()
  print(summary)
  total_votes_list &lt;- split(summary, seq(nrow(summary)))
  print(total_votes_list)
  proper_name1 &lt;- total_votes_list[[1]]$proper_name
  winner_party1 &lt;- total_votes_list[[1]]$party_detailed
  total_votes1 &lt;- total_votes_list[[1]]$total_electoral_votes_won + 3
  
  proper_name2 &lt;- total_votes_list[[2]]$proper_name
  winner_party2 &lt;- total_votes_list[[2]]$party_detailed
  total_votes2 &lt;- total_votes_list[[2]]$total_electoral_votes_won
  
  # Format party abbreviations
  party1 &lt;- ifelse(winner_party1 == "DEMOCRAT", "(D)", "(R)")
  party2 &lt;- ifelse(winner_party2 == "DEMOCRAT", "(D)", "(R)")
  
  # Construct the formatted string using paste and the variables
  output_string &lt;- sprintf(
  "%s %s\nElectoral Votes: %d\n%s %s\nElectoral Votes: %d",
  toupper(proper_name1), party1, total_votes1,
  toupper(proper_name2), party2, total_votes2
)
  df_year_filtered &lt;- df_year_filtered |&gt; 
    filter(winner == TRUE)
  # Create the plot
  ggplot(df_year_filtered, aes(state = state_po, fill = color)) +
    statebins::geom_statebins(radius = grid::unit(0.1, "cm")) +
     scale_fill_identity() +
    labs(
      title = paste("United States Electoral College Votes by State-Wide Proportional (", election_year, ")", sep = ""),
      subtitle = paste("Color intensity represents share of Electoral College Votes\n\n", output_string, sep="\n")
    ) +
    theme_minimal() +
    theme(
      legend.position = "right",
      panel.background = element_blank(),
      axis.text = element_blank(),
      axis.ticks = element_blank(),
      panel.grid = element_blank(),
      plot.subtitle = element_text(color = "black")
    )
}

# Plot the data
plot_electoral_votes(state_electoral_votes_p, 2000)

#### NATIONAL VOTE PROPORTION ####

election_data_president_n &lt;- ELECTION_DATA_PRESIDENT |&gt; 
    mutate(party_detailed = if_else(party_detailed == "DEMOCRATIC-FARMER-LABOR", "DEMOCRAT", party_detailed)) |&gt;
    filter(party_detailed == "DEMOCRAT" | party_detailed == "REPUBLICAN")

# Get electoral votes for each state for each year
electoral_votes_by_state_n &lt;- ELECTION_DATA_HOUSE |&gt; 
  group_by(year, state, state_po) |&gt;
  summarize(votes = n_distinct(district) + 2)

state_percentages_n &lt;- election_data_president_n |&gt;
  group_by(year, party_detailed, candidate) |&gt;
  summarise(
    total_candidate_votes = sum(candidatevotes, na.rm = TRUE), # Total votes for the candidate across all states
    total_year_votes = sum(totalvotes, na.rm = TRUE) # Total votes for the year across all states
  ) |&gt;
  ungroup() |&gt;
  mutate(
    percentage = total_candidate_votes / total_year_votes # Calculate percentage for the candidate across all states
  ) |&gt;
  select(year, candidate, party_detailed, total_candidate_votes, percentage) |&gt;
  arrange(year, desc(percentage)) 

# Calculate the winner for each year
state_percentages_n &lt;- state_percentages_n |&gt;
  group_by(year) |&gt;
  mutate(winner = percentage == max(percentage)) |&gt;
  ungroup()

expanded_data_n &lt;- state_percentages_n |&gt;
  inner_join(
    electoral_votes_by_state_n,
    by = "year",
    relationship = "many-to-many"
  ) 

state_electoral_votes_n &lt;- expanded_data_n |&gt;
  group_by(year, state, state_po) |&gt;
  mutate(
  winner_votes = ceiling(percentage[winner == TRUE] * votes),
  # Calculate electoral votes won by the winner (round up)
  electoral_votes_won = ifelse(
    winner,
    winner_votes,
    votes - winner_votes
  )
)
 
# Identify all the unique presidential winners
unique_winners_n &lt;- state_winner_with_votes |&gt;
  distinct(year, winner_party, proper_name) |&gt; 
  rename(party_detailed = winner_party)

# Add proper names
state_electoral_votes_n &lt;- state_electoral_votes_n |&gt;
  left_join(unique_winners_n, by = c("year", "party_detailed")) 

# Add colors
state_electoral_votes_n &lt;- state_electoral_votes_n |&gt;
   mutate(color = ifelse(party_detailed == "DEMOCRAT", alpha("blue", percentage), alpha("red",             percentage)))

plot_national_proportion &lt;- function(data, election_year) {
  # Filter data for the specified election year
  df_year_filtered &lt;- data |&gt;
    filter(year == election_year)
  print(df_year_filtered)
  # Get summary for EC vote counts  
  summary &lt;- df_year_filtered |&gt;
    group_by(party_detailed, proper_name) |&gt;
    summarise(total_electoral_votes_won = sum(electoral_votes_won, na.rm = TRUE)) |&gt;
    ungroup()

  # Break out into list for display
  total_votes_list &lt;- split(summary, seq(nrow(summary)))

  proper_name1 &lt;- total_votes_list[[1]]$proper_name
  winner_party1 &lt;- total_votes_list[[1]]$party_detailed
  total_votes1 &lt;- total_votes_list[[1]]$total_electoral_votes_won + 3
  
  proper_name2 &lt;- total_votes_list[[2]]$proper_name
  winner_party2 &lt;- total_votes_list[[2]]$party_detailed
  total_votes2 &lt;- total_votes_list[[2]]$total_electoral_votes_won
  
  # Format party abbreviations
  party1 &lt;- ifelse(winner_party1 == "DEMOCRAT", "(D)", "(R)")
  party2 &lt;- ifelse(winner_party2 == "DEMOCRAT", "(D)", "(R)")
  
  # Construct the formatted string using paste and the variables
  output_string &lt;- sprintf(
    "%s %s\nElectoral Votes: %d\n%s %s\nElectoral Votes: %d",
    toupper(proper_name1), party1, total_votes1,
    toupper(proper_name2), party2, total_votes2
    )
  
  # Create the plot
  ggplot(df_year_filtered, aes(state = state_po, fill = color)) +
    statebins::geom_statebins(radius = grid::unit(0.1, "cm")) +
    scale_fill_identity() +
    labs(
      title = paste("United States Electoral College Votes by National Proportion (", election_year, ")", sep = ""),
      subtitle = paste("Color intensity represents share of Electoral College Votes\n\n", output_string,sep="\n")
    ) +
    theme_minimal() +
    theme(
      legend.position = "right",
      panel.background = element_blank(),
      axis.text = element_blank(),
      axis.ticks = element_blank(),
      panel.grid = element_blank(),
      plot.subtitle = element_text(color = "black")
    )
}

# Plot the data
plot_national_proportion(state_electoral_votes_n, 2000)


data &lt;- data.frame(
  system = c("State Winner Take All", "District Winner + At Large", "State Wide Proportional", "National Proportional"),
  percentage = c(0.4962, 0.4665, 0.4869, 0.52)
)

# Plot
ggplot(data, aes(x = system, y = percentage)) +
  geom_point(shape = 21, color = "black", fill = "dodgerblue", size=8) +
  geom_hline(yintercept = 0.5, linetype = "dashed", color = "red") +
  scale_y_continuous(limits = c(0.42, 0.53), breaks = seq(0.42, 0.55, by = 0.01)) +
  labs(
    title = "Do any Electoral Systems Exceed 50% for the 2000 Election?",
    x = "Electoral System",
    y = "Percentage",
    size = "Distance from 50%"
  ) +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    legend.position = "right"
  )
</code></pre>
</details>
</section>
<section id="finndings" class="level2">
<h2 class="anchored" data-anchor-id="finndings">Finndings</h2>
<p>The <strong>Electoral College</strong> system inherently disadvantages densely concentrated urban populations due to geographic sorting, where large numbers of voters in cities are “wasted” under the current allocation methods. This effect is especially pronounced in the <strong>State-Wide Winner-Take-All</strong> and <strong>District-Wide Winner-Take-All + At-Large</strong> systems, where urban votes are overshadowed by more spread-out rural and suburban voters. Even with a <strong>State-Wide Proportional</strong> approach, the dispersed nature of electoral votes dilutes the power of high-population centers.<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a></p>
<p>This dynamic reflects the original pastoral leanings of certain <strong>Founding Fathers</strong>, who were wary of urban centers and their concentrated political influence. Many founders idealized a nation of independent, rural landowners and saw the <strong>Electoral College</strong> as a mechanism to balance the interests of these pastoral areas against growing urban centers.<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a> Consequently, modern calls for Electoral College reform often stem from this persistent tension between rural and urban representation.</p>
<p>Critics of the Electoral College, such as historian <strong>George C. Edwards III</strong>, argue that this system inevitably introduces a significant “<strong>democratic deficit</strong>” by allowing a candidate to win the presidency without securing the popular vote. <strong>Edwards</strong> suggests that this mechanism distorts democratic representation, disproportionately empowering certain states and demographic groups at the expense of others, and thus subverting the principle of equal representation.<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a></p>
<p>These findings are in line with the thoughts of <a href="https://en.wikipedia.org/wiki/Robert_Dahl"><strong>Robert A. Dahl</strong></a>, widely regarded as one of the United States’ preeminent authoritie on democratic theory and the American Constitution.</p>
<p>In <em>How Democratic Is the American Constitution?</em> <strong>Dahl</strong> critically examines the Electoral College and its democratic shortcomings. He too recounts the <code>2000</code> election, where a candidate with fewer popular votes won, and traces this anomaly to the original confusion and compromises of the Framers. They established the Electoral College out of desperation after rejecting other methods, prioritizing insulation from popular choice and concern over “cabal and corruption.”<a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a></p>
<p>As such, the <strong>Electoral College</strong> is deeply rooted in an anti-democratic framework. Built to balance regional influence rather than to represent the popular will, the <strong>Electoral College</strong> was again, crafted with significant limitations to prevent it from reflecting a true <strong>“one person, one vote”</strong> standard. Its mission makes it impossible to align with the democratic values most champion today.</p>
<p>In contrast, modern American political culture is firmly grounded in the principle of equal representation, where each vote should carry equal weight. Most Americans believe strongly in <strong>“one person, one vote”</strong> and would find it jarring, even offensive, for any politician to openly assert that some votes should count more than others.</p>
<p>Yet by supporting the <strong>Electoral College</strong>, we tacitly accept this inequality, promoting the illusion that it’s anything other than an outdated system that distorts minority political power.</p>
<p>There exists a deep disatisfaction with the <strong>Electoral College</strong> among the American public<a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a>: <img src="images/mp-03/pew-research.png" class="img-fluid" style="width:60%; border: 1px solid black; display: block; margin: 10px auto;"></p>
<p>As such, strong public support exists for centering <strong>“one person, one vote”</strong> into the <strong>U.S. Political System</strong> and its methods for selecting the <strong>President</strong>.</p>
<p>If we summarize our findings, there’s one system that consistly rewards the <strong>Popular Vote Winner</strong> the <code>50%</code> electoral college vote threshold needed to win the presidency:</p>
<p><img src="images/mp-03/2000-electoral-systems.png" class="img-fluid" style="width:60%; border: 1px solid black; display: block; margin: 10px auto;"></p>
<p><img src="images/mp-03/2016-electoral-systems.png" class="img-fluid" style="width:60%; border: 1px solid black; display: block; margin: 10px auto;"> Given these findings, the it’s the purple shading on the <strong>National Proportional</strong> maps above that best reflect the most equitable spirit of <strong>“one person, one vote,”</strong> highlighting how popular will could be represented more faithfully. If the <strong>Electoral College</strong> must be preserved, such a proportional approach would align more closely with our democratic values and national political culture, offering a way forward that respects the ideal of equal voter influence.</p>
<p>As such, if were to keep the <strong>Electoral College</strong>, we should adopt the <strong>National Proportion</strong> method for allocating electoral votes and the delegates who chose our nation’s chief executive, <strong>The President of the United States</strong>.</p>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>MIT Election Data and Science Lab, 2017, “U.S. House 1976–2022”, https://doi.org/10.7910/DVN/IG0UN2, <em>Harvard Dataverse</em>, V13, UNF:6 /IVldA== [fileUNF]<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>CD Maps, “The Database of Congressional Historical Shape Files,” https://cdmaps.polisci.ucla.edu/<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>U.S. Census Bureau, “TIGER/Line Shapefiles,” https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Glaeser, E. L., &amp; Tobio, K. (2008). The rise of the sunbelt. Southern Economic Journal, 74(3), 609-643.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Nelson, P. B. (2005). Migration and the regional redistribution of nonearnings income in the United States: Metropolitan and nonmetropolitan perspectives from 1975 to 2000. Environment and Planning A, 37(9), 1613-1636.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>Mooney, A. (n.d.). How states losing House seats decide which districts are cut. Mooney.house.gov. Retrieved November 13, 2024, from https://mooney.house.gov/how-states-losing-house-seats-decide-which-districts-are-cut/<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>Shapiro, B. <span class="citation" data-cites="benshapiro">[@benshapiro]</span>. (2024, 11, 6). “Hey Democrats, I have some more unfortunate news for you. Here’s what the electoral map looks like..” Tweet. X. https://x.com/benshapiro/status/1854210993645297694<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>Harvard Kennedy School Ash Center for Democratic Governance and Innovation. (n.d.). The Electoral College and our broken presidential election system. Harvard Kennedy School. Retrieved November 13, 2024, from https://ash.harvard.edu/articles/the-electoral-college-and-our-broken-presidential-election-system/<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>Protect Democracy. (n.d.). Fusion voting explained. Protect Democracy. Retrieved November 12, 2024, from https://protectdemocracy.org/work/fusion-voting-explained/<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>Electoral fusion in the United States. (n.d.). In Wikipedia. Retrieved November 11, 2024, from https://en.wikipedia.org/wiki/Electoral_fusion_in_the_United_States<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>Smith, Robert C. “Ronald Reagan, Donald Trump, and the Future of the Republican Party and Conservatism in America.” American Political Thought 10.2 (2021): 283-289.<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p>Abramowitz, A. I. (2022). The Polarized American Electorate: The Rise of Partisan-Ideological Consistency and Its Consequences. Political Science Quarterly, 137(4), 645-674.<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13"><p>Pearson-Merkowitz, S., &amp; Lang, C. (2016). The geographic polarization of American voters. The Geography Teacher, 13(3), 112-117.<a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14"><p>Rodden, J. A. (2019). Why cities lose: The deep roots of the urban-rural political divide. Basic Books.<a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15"><p>Edwards, G. C. (2004). Why the electoral college is bad for America. Yale University Press.<a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16"><p>Dahl, R. A. (2001). How democratic is the American Constitution? New Haven, Yale University Press.<a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn17"><p>Pew Research Center. (2024, September 25). Majority of Americans continue to favor moving away from Electoral College. Pew Research Center. Retrieved November 12, 2024, from https://www.pewresearch.org/short-reads/2024/09/25/majority-of-americans-continue-to-favor-moving-away-from-electoral-college/<a href="#fnref17" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/jasonamey\.github\.io\/STA9750-2024-FALL\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>